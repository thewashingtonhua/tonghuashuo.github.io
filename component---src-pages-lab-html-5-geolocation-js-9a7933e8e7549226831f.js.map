{"version":3,"sources":["webpack:///./src/pages/lab/html5-geolocation.js","webpack:///./src/config/index.ts","webpack:///./src/images/logo.png","webpack:///./src/components/seo.tsx","webpack:///./src/components/header.tsx","webpack:///./src/components/layout.tsx"],"names":["ERROR_TPYE","1","2","3","HTML5Geolocation","props","_useState","useState","_useState2","Object","_Users_washingtonhua_Projects_Me_tonghuashuo_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","latitude","setLatitude","_useState3","_useState4","longitude","setLongitude","_useState5","_useState6","accuracy","setAccuracy","_useState7","_useState8","altitude","setAltitude","_useState9","_useState10","altitudeAccuracy","setAltitudeAccuracy","_useState11","_useState12","heading","setHeading","_useState13","_useState14","speed","setSpeed","_useState15","_useState16","error","setError","useEffect","navigator","geolocation","getCurrentPosition","position","coords","code","enableHighAcuracy","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","_components_layout__WEBPACK_IMPORTED_MODULE_3__","_components_seo__WEBPACK_IMPORTED_MODULE_4__","title","keywords","data","site","siteMetadata","className","gatsby__WEBPACK_IMPORTED_MODULE_2__","to","id","query","__webpack_require__","d","__webpack_exports__","IS_PROD","process","module","exports","p","SEO","_props$description","description","_props$lang","lang","_props$meta","meta","_props$keywords","_props$title","_props$exactTitle","exactTitle","gatsby__WEBPACK_IMPORTED_MODULE_3__","detailsQuery","render","metaDescription","react_helmet__WEBPACK_IMPORTED_MODULE_2___default","htmlAttributes","titleTemplate","concat","name","content","property","author","length","join","_public_static_d_1025518380_json__WEBPACK_IMPORTED_MODULE_0__","menus","text","Header","slicedToArray","navMenuOpen","setNavMenuOpen","close","e","stopPropagation","isMenuActive","isMenuActiveProps","isPartiallyCurrent","react_default","Fragment","gatsby_browser_entry","src","logo","alt","onClick","map","n","key","getProps","Sentry","dsn","Layout","children","components_header","_755544856"],"mappings":"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","file":"component---src-pages-lab-html-5-geolocation-js-9a7933e8e7549226831f.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link, graphql } from 'gatsby'\nimport Layout from '../../components/layout'\nimport SEO from '../../components/seo'\nimport './lab.scss'\nimport { GatsbyDataProps } from '../../utils/interface'\n\nconst ERROR_TPYE = {\n  1: 'service denied',\n  2: 'cannot access geolocation info',\n  3: 'timeout'\n}\n\nconst HTML5Geolocation = (props: GatsbyDataProps) => {\n  const [latitude, setLatitude] = useState(null)\n  const [longitude, setLongitude] = useState(null)\n  const [accuracy, setAccuracy] = useState(null)\n  const [altitude, setAltitude] = useState(null)\n  const [altitudeAccuracy, setAltitudeAccuracy] = useState(null)\n  const [heading, setHeading] = useState(null)\n  const [speed, setSpeed] = useState(null)\n  const [error, setError] = useState('')\n\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        position => {\n          // 经纬度数值为正数表示东经、北纬，负数表示西经南纬，遵循直角坐标系\n          setLatitude(position.coords.latitude)\n          setLongitude(position.coords.longitude)\n          setAccuracy(position.coords.accuracy)\n          setAltitude(position.coords.altitude)\n          setAltitudeAccuracy(position.coords.altitudeAccuracy)\n          setHeading(position.coords.heading)\n          setSpeed(position.coords.speed)        },\n        error => {\n          setError('[Error] ' + ERROR_TPYE[error.code])\n        },\n        { enableHighAcuracy: true }\n      )\n    } else {\n      setError('[Error] Geolocation is not supported on this browser.')\n    }\n  }, [])\n\n  return (\n    <Layout>\n      <SEO\n        title='Geolocation | 实验室'\n        keywords={props.data.site.siteMetadata.keywords}\n      />\n      <div className='mf-content lab-item'>\n\n        <article>\n          <Link to='/lab' className='back'>&laquo; Back</Link>\n\n          <h1>Geolocation</h1>\n\n          <p>Latitude: {latitude}</p>\n          <p>Longtitude: {longitude}</p>\n          <p>Accuracy: {accuracy}</p>\n          <p>Altitude: {altitude}</p>\n          <p>Altitude Accuracy: {altitudeAccuracy}</p>\n          <p>Heading: {heading}</p>\n          <p>Speed: {speed}</p>\n\n          <p id='error'>{error}</p>\n        </article>\n      </div>\n    </Layout>\n  )\n}\n\nexport default HTML5Geolocation\nexport const query = graphql`\nquery {\n  site {\n    siteMetadata {\n      title,\n      keywords\n    }\n  }\n}`\n","export const IS_PROD = process.env.NODE_ENV === 'production'\n\nexport const DEBUG_MODE = !IS_PROD\n","module.exports = __webpack_public_path__ + \"static/logo-8503f6989dba3ce27939964a48c8b787.png\";","import React from 'react'\nimport Helmet from 'react-helmet'\nimport { StaticQuery, graphql } from 'gatsby'\n\ninterface SEOProps {\n  description?: string,\n  lang?: string,\n  meta?: { name: string; content: any; property?: undefined; } | { property: string; content: any; name?: undefined; } | ConcatArray<{ name: string; content: any; property?: undefined; } | { property: string; content: any; name?: undefined; }>,\n  keywords?: string[],\n  title?: string,\n  exactTitle?: boolean\n}\n\nconst SEO = (props: SEOProps) => {\n  const { description = '', lang = `zh`, meta = [], keywords = [], title = '', exactTitle = false } = props\n\n  return (\n    <StaticQuery\n      query={detailsQuery}\n      render={data => {\n        const metaDescription = description || data.site.siteMetadata.description\n\n        return (\n          <Helmet\n            htmlAttributes={{\n              lang,\n            }}\n            title={title}\n            titleTemplate={exactTitle ? '' : `%s | ${data.site.siteMetadata.title}`}\n            meta={[\n              {\n                name: `description`,\n                content: metaDescription,\n              },\n              {\n                property: `og:title`,\n                content: title,\n              },\n              {\n                property: `og:description`,\n                content: metaDescription,\n              },\n              {\n                property: `og:type`,\n                content: `website`,\n              },\n              {\n                name: `twitter:card`,\n                content: `summary`,\n              },\n              {\n                name: `twitter:creator`,\n                content: data.site.siteMetadata.author,\n              },\n              {\n                name: `twitter:title`,\n                content: title,\n              },\n              {\n                name: `twitter:description`,\n                content: metaDescription,\n              }\n            ].concat(\n              keywords.length > 0\n                ? {\n                    name: `keywords`,\n                    content: keywords.join(`,`),\n                  }\n                : []\n            )\n            .concat(meta)}\n          />\n        )\n      }}\n    />\n  )\n}\n\nexport default SEO\n\nconst detailsQuery = graphql`\n  query DefaultSEOQuery {\n    site {\n      siteMetadata {\n        title\n        description\n        author\n      }\n    }\n  }\n`\n","import React, { useState, MouseEvent } from 'react'\nimport { Link } from 'gatsby'\nimport logo from '../images/logo.png'\nimport './header.scss'\nimport { LinkGetProps } from '@reach/router';\n\nconst menus = [\n  { to: '/blog', text: '博客' },\n  { to: '/project', text: '代表作' },\n  { to: '/lab', text: '实验室' },\n  { to: '/friend', text: '朋友' },\n  { to: '/about', text: '我' }\n]\n\nconst Header = () => {\n\n  const [navMenuOpen, setNavMenuOpen] = useState(false)\n\n  function toggle (e: MouseEvent) {\n    e && e.stopPropagation()\n    setNavMenuOpen(!navMenuOpen)\n  }\n\n  function close (e: MouseEvent) {\n    e && e.stopPropagation()\n    setNavMenuOpen(false)\n  }\n\n  function isMenuActive (isMenuActiveProps: LinkGetProps) {\n    const { isPartiallyCurrent } = isMenuActiveProps\n    return isPartiallyCurrent\n      ? { className: 'menu-link active' }\n      : { className: 'menu-link' }\n  }\n\n  return (\n    <>\n      <header id='mf-header'>\n        <div className='mf-header-wrapper'>\n          <Link to='/' className='logo'>\n            <img src={logo} alt=''/>\n            <span>童话说</span>\n          </Link>\n          <div className={'hamberger' + (navMenuOpen ? ' open' : '')} onClick={toggle}>\n            <div className='bar' />\n            <div className='bar' />\n            <div className='bar' />\n          </div>\n          <nav className={'nav-menu' + (navMenuOpen ? ' open' : '')}>\n            <ul className='menus'>\n              { menus.map(n => (\n                <li className='menu' key={n.to}>\n                  <Link\n                    to={n.to}\n                    getProps={isMenuActive}\n                    onClick={close}\n                  >{n.text}</Link>\n                </li>\n              ))}\n            </ul>\n          </nav>\n        </div>\n      </header>\n      <section id='mf-header-placeholder' />\n    </>\n  )\n}\n\nexport default Header\n","import React, { ReactNode } from 'react'\nimport PropTypes from 'prop-types'\nimport { StaticQuery, graphql } from 'gatsby'\nimport * as Sentry from '@sentry/browser'\nimport 'normalize-scss/sass/normalize/_import-now.scss'\nimport './layout.scss'\nimport Header from './header'\nimport { IS_PROD } from 'config';\n\nif (IS_PROD) {\n  Sentry.init({\n    dsn: 'https://9638de4372be4acebf892d0732a86a4a@sentry.io/1450204'\n  })\n}\n\ninterface LayoutProps {\n  children?: ReactNode\n}\n\nconst Layout = (props: LayoutProps) => {\n  const { children } = props\n\n  return <StaticQuery\n    query={graphql`\n      query SiteTitleQuery {\n        site {\n          siteMetadata {\n            title\n          }\n        }\n      }\n    `}\n    render={data => (\n      <>\n        <Header />\n        <main>\n          {children}\n        </main>\n      </>\n    )}\n  />\n}\n\nexport default Layout\n"],"sourceRoot":""}
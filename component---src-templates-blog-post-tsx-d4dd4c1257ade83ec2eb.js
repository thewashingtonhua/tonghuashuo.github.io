(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{cZrw:function(e,t,a){"use strict";a.r(t),a.d(t,"query",(function(){return g}));var n=a("upjz"),r=a("DjBF"),l=a("q1tI"),c=a.n(l),s=a("Wbzz"),o=a("Wgwc"),i=a.n(o),m=a("Nhdc"),d=(a("TpNv"),a("THVa"),a("qGWU"),a("40ji")),f=a("LeJ0"),u=function(e){return c.a.createElement("aside",{className:"toc",style:e.style,dangerouslySetInnerHTML:{__html:e.blog.tableOfContents}})},b=function(e){var t=e.blog,a=e.blogs,n=t.frontmatter.series;if(!n)return null;var r=a.filter((function(e){return e.frontmatter.series===n}));return(f.a?r.filter((function(e){return!e.frontmatter.draft})):r).length?c.a.createElement("section",{className:"series"},c.a.createElement("header",{className:"header"},c.a.createElement("p",{className:"title"},"该系列的其他文章")),c.a.createElement("ul",{className:"posts"},r.map((function(e){return c.a.createElement("li",{className:"post",key:e.id},c.a.createElement(s.Link,{className:e.frontmatter.draft?"draft":"",to:e.fields.slug},e.frontmatter.title))})))):null},E=function(e){var t,a=e.blog,n=e.blogs,s=null===(t=a.frontmatter.cover)||void 0===t?void 0:t.publicURL,o=i()(a.fields.date).format("MMM DD, YYYY"),m=Object(l.useState)({}),d=Object(r.a)(m,2),f=d[0],E=d[1],g=Object(l.createRef)(),p=function(){var e=g.current;if(e){var t=e.getBoundingClientRect().top,a=Math.max(60-t,0);E({transform:"translateY(".concat(a,"px)")})}};Object(l.useEffect)((function(){if(!(window.innerWidth<1280))return document.addEventListener("scroll",p),function(){document.removeEventListener("scroll",p)}}));var v=[a.frontmatter.draft&&"draft"].filter(Boolean).join(" ");return c.a.createElement("article",{className:v,id:"blog__".concat(a.fields.id)},c.a.createElement("h1",{className:"post-title"},a.frontmatter.title),c.a.createElement("div",{className:"metas"},c.a.createElement("p",{className:"publish-date"},c.a.createElement("time",{dateTime:a.fields.date},o))),s&&c.a.createElement("div",{className:"banner"},c.a.createElement("img",{src:s,alt:""})),c.a.createElement("div",{className:"content-wrapper",ref:g},c.a.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:a.html}}),c.a.createElement(u,{blog:a,style:f})),c.a.createElement(b,{blog:a,blogs:n}))};t.default=function(e){var t=e.data,a=t.allMarkdownRemark.edges.map((function(e){return e.node})).filter((function(e){return e.fields.type===d.a.blog})).sort((function(e,t){return new Date(t.fields.date).getTime()-new Date(e.fields.date).getTime()})),r=t.markdownRemark;return c.a.createElement(m.a,null,c.a.createElement(m.b,{title:"".concat(r.frontmatter.title," | 博客"),keywords:[].concat(Object(n.a)(t.site.siteMetadata.keywords),Object(n.a)(r.frontmatter.tags))}),c.a.createElement("div",{className:"mf-content blog-post"},c.a.createElement("p",{className:"back-to-parent"},c.a.createElement(s.Link,{to:"/blog"},"« 回到博客列表")),c.a.createElement(E,{blog:r,blogs:a})))};var g="2328909686"}}]);
//# sourceMappingURL=component---src-templates-blog-post-tsx-d4dd4c1257ade83ec2eb.js.map
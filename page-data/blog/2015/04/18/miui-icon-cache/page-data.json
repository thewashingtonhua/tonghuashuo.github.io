{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/blog/2015/04/18/miui-icon-cache","webpackCompilationHash":"ce31da0dff6dcfcba816","result":{"data":{"site":{"siteMetadata":{"title":"童话说","keywords":["tonghuashuo","github","front-end","javascript","typescript","react","node","washington","hua","童话","童话说","前端","博客","技术","计算机","互联网"]}},"markdownRemark":{"html":"<h2>问题描述</h2>\n<p>为 Android 应用替换图标是一件非常容易的事，只需要替换 ic_launcher.png 即可，但在 MIUI 中，你经常会遇到安装完之后实际显示的还是默认图标，你自定义的图标并没有显示出来。检查代码发现完全没有问题，卸了重装也没用，重命名资源文件也没用。</p>\n<h2>影响范围</h2>\n<p>就目前所知，该问题是由 MIUI 6 引入的，在早先的版本中尚未发现该问题。该问题产生的影响主要体现在产品大版本更新时，尽管主程序已经更新，但用户所看到的应用图标仍然是老版本的，直到问题解决。同时也给广大应用开发者带来一定的麻烦。</p>\n<h2>病症所在</h2>\n<p>出现这种问题，是因为 MIUI 有一个应用图标的缓存，这个缓存里的图片即便在应用卸载了之后也不会消失。这就是为什么重复安装或是更换图标都无法解决问题的根本原因。</p>\n<h2>解决办法</h2>\n<p>其实要想解决这个问题很简单，只需要进入“主题风格”随便更换一套主题，再换回原来的主题即可。切换主题会刷新应用图标缓存，使新图标被应用，问题因而得以解决。（有人通过重启手机同样解决了问题，大家可以试下）</p>\n<h2>偏方</h2>\n<p>网上有一些偏方，号称能解决问题，但实测发现，并没有什么卵用。这里也曝光一下，给大家做个参考</p>\n<p>偏方1：如果你已经获得了 root 权限，那么进入 <code class=\"gatsby-code-text\">/data/system/customized_icons</code> 目录，找到你原来的旧图标，删除即可。该方法从原理上讲确实属于对症下药，但似乎 MIUI 的图标缓存并不在这里，实际测试发现这个方法并不解决问题。</p>\n<p>偏方2：把当前的工程换一个包名，重新安装即可。换了包名等于是一个新的应用。旧的缓存图标就失效了，听上去确实没错，但实际测试表明这个方法也没用。</p>","frontmatter":{"title":"MIUI 图标缓存问题","description":"离奇失踪的图标","cover":{"publicURL":"/static/miui-icon-cache-2e66c31a61d5319c1849ea082e8c80ee.jpg"},"tags":["android","miui","icon","cache"],"series":"","draft":false},"fields":{"id":"miui-icon-cache","date":"2015-04-17T16:00:00.000Z"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/blog/2015/04/18/miui-icon-cache"}}}
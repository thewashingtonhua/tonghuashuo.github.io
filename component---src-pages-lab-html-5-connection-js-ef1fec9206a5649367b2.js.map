{"version":3,"sources":["webpack:///./src/pages/lab/html5-connection.js"],"names":["HTML5Connection","props","useState","connectionType","setConnectionType","useEffect","_connection","getConnectionType","connection","navigator","mozConnection","webkitConnection","type","effectiveType","filter","Boolean","join","addEventListener","removeEventListener","title","keywords","data","site","siteMetadata","className","to","id","query"],"mappings":"iPAmDeA,UA7CS,SAACC,GAA4B,IAAD,EACNC,mBAAS,WADH,mBAC3CC,EAD2C,KAC3BC,EAD2B,KAwBlD,OArBAC,qBAAU,WACR,IAAIC,EAAc,KAElB,SAASC,IACP,IAAMC,EAAaC,UAAUD,YAAcC,UAAUC,eAAiBD,UAAUE,iBAChF,GAAIH,EAAY,CACdF,EAAcE,EADA,IAENI,EAAwBJ,EAAxBI,KAAMC,EAAkBL,EAAlBK,cACdT,EAAkB,CAACQ,EAAMC,GAAeC,OAAOC,SAASC,KAAK,SAQjE,OAJAT,IAEAD,GAAeA,EAAYW,iBAAiB,SAAUV,GAE/C,WACLD,GAAeA,EAAYY,oBAAoB,SAAUX,MAE1D,IAGD,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEY,MAAM,mBACNC,SAAUnB,EAAMoB,KAAKC,KAAKC,aAAaH,WAEzC,yBAAKI,UAAU,uBAEb,iCACE,kBAAC,OAAD,CAAMC,GAAG,OAAOD,UAAU,QAA1B,UAEA,0CAEA,oCAAS,0BAAME,GAAG,QAAQvB,QAU7B,IAAMwB,EAAK","file":"component---src-pages-lab-html-5-connection-js-ef1fec9206a5649367b2.js","sourcesContent":["import React, { useState, useEffect, useRef } from 'react'\nimport { Link, graphql } from 'gatsby'\nimport { Layout, SEO } from '../../components'\nimport './lab.scss'\nimport { GatsbyDataProps } from '../../utils/interface'\n\nconst HTML5Connection = (props: GatsbyDataProps) => {\n  const [connectionType, setConnectionType] = useState('unknown')\n\n  useEffect(() => {\n    let _connection = null\n\n    function getConnectionType () {\n      const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection\n      if (connection) {\n        _connection = connection\n        const { type, effectiveType } = connection\n        setConnectionType([type, effectiveType].filter(Boolean).join(' / '))\n      }\n    }\n\n    getConnectionType()\n\n    _connection && _connection.addEventListener('change', getConnectionType)\n\n    return () => {\n      _connection && _connection.removeEventListener('change', getConnectionType)\n    }\n  }, [])\n\n  return (\n    <Layout>\n      <SEO\n        title='Connection | 实验室'\n        keywords={props.data.site.siteMetadata.keywords}\n      />\n      <div className='mf-content lab-item'>\n\n        <article>\n          <Link to='/lab' className='back'>&laquo; Back</Link>\n\n          <h1>Connection</h1>\n\n          <p>Type: <span id='type'>{connectionType}</span></p>\n        </article>\n\n      </div>\n    </Layout>\n  )\n}\n\nexport default HTML5Connection\n\nexport const query = graphql`\nquery {\n  site {\n    siteMetadata {\n      title,\n      keywords\n    }\n  }\n}`\n"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./src/pages/toolbox/html5-connection.tsx"],"names":["HTML5Connection","useState","connectionType","setConnectionType","_connection","getConnectionType","hasWindow","navigator","window","connection","mozConnection","webkitConnection","type","effectiveType","filter","Boolean","join","useEffect","addEventListener","removeEventListener","title","id"],"mappings":"4KAyCeA,UAnCa,WAAM,MACYC,mBAAS,WADrB,mBACzBC,EADyB,KACTC,EADS,KAG5BC,EAA0C,KAE9C,SAASC,IACP,GAAKC,cAAL,CACA,IAEQC,EAFQC,OAERD,UACFE,EAAaF,EAAUE,YAAcF,EAAUG,eAAiBH,EAAUI,iBAChF,GAAIF,EAAY,CACdL,EAAcK,EADA,IAENG,EAAwBH,EAAxBG,KAAMC,EAAkBJ,EAAlBI,cACdV,EAAkB,CAACS,EAAMC,GAAeC,OAAOC,SAASC,KAAK,UAajE,OATAC,qBAAU,WAIR,OAHAZ,IACAD,GAAeA,EAAYc,iBAAiB,SAAUb,GAE/C,WACLD,GAAeA,EAAYe,oBAAoB,SAAUd,MAE1D,IAGD,kBAAC,IAAD,CAAee,MAAM,cACnB,0CACA,oCAAS,0BAAMC,GAAG,QAAQnB,O","file":"component---src-pages-toolbox-html-5-connection-tsx-d5b196a53cf8703471db.js","sourcesContent":["import React, { FC, useState, useEffect } from 'react'\nimport { ToolboxLayout } from '../../components'\nimport './tool.scss'\nimport { IWindow, INetworkInformation } from '../../utils/interface'\nimport { hasWindow } from 'utils'\n\nconst HTML5Connection: FC = () => {\n  const [connectionType, setConnectionType] = useState('unknown')\n\n  let _connection: INetworkInformation | null = null\n\n  function getConnectionType () {\n    if (!hasWindow()) return\n    const _window = window as IWindow\n\n    const { navigator } = _window\n    const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection\n    if (connection) {\n      _connection = connection\n      const { type, effectiveType } = connection\n      setConnectionType([type, effectiveType].filter(Boolean).join(' / '))\n    }\n  }\n\n  useEffect(() => {\n    getConnectionType()\n    _connection && _connection.addEventListener('change', getConnectionType)\n\n    return () => {\n      _connection && _connection.removeEventListener('change', getConnectionType)\n    }\n  }, [])\n\n  return (\n    <ToolboxLayout title='Connection'>\n      <h1>Connection</h1>\n      <p>Type: <span id='type'>{connectionType}</span></p>\n    </ToolboxLayout>\n  )\n}\n\nexport default HTML5Connection\n"],"sourceRoot":""}
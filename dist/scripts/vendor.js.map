{"version":3,"sources":["vendor.js"],"names":["getBase","window","location","protocol","host","getPath","pathname","fixRatio","elem","w","h","$","width","height","fixRatioAll","elems","each","classlist","prop","reg","match","split","initNavigator","tmpl","dom","prepend","setTimeout","setChannel","handleHamberger","path","channel","replace","length","addClass","hambergerBtn","navMenu","on","toggleClass","resizeHandler","document","ready","bp","createElement","curProtocol","src","s","getElementsByTagName","parentNode","insertBefore","_hmt","hm"],"mappings":"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","file":"vendor.js","sourcesContent":["const getBase = () => {\n  const { protocol, host } = window.location\n  return `${protocol}//${host}`\n}\n\nconst getPath = () => {\n  const pathname = window.location.pathname\n  return pathname\n}\n\nconst fixRatio = (elem, w, h) => {\n  elem = $(elem)\n  const width = elem.width()\n  const height = width * h / w\n  elem.height(height)\n}\n\nconst fixRatioAll = () => {\n  const elems = $('.fix-ratio')\n  elems.each(function () {\n    const elem = $(this)\n    const classlist = elem.prop('class')\n    const reg = /ratio-\\d+-\\d+/\n    const match = classlist.match(reg)\n    if (match) {\n      const w = match[0].split('-')[1]\n      const h = match[0].split('-')[2]\n      fixRatio(elem, w, h)\n    }\n  })\n}\n\nconst initNavigator = () => {\n  const tmpl = `\n    <header id=\"mf-header\">\n      <div class=\"mf-header-wrapper\">\n        <a href=\"${getBase()}\" class=\"logo\">\n          <span>童话说</span>\n        </a>\n        <div class='hamberger'>\n          <div class='bar'></div>\n          <div class='bar'></div>\n          <div class='bar'></div>\n        </div>\n        <nav class='nav-menu'>\n          <ul class=\"menus\">\n            <li class='menu' data-channel='blog'>\n              <a href=\"${getBase()}/blog.html\">博客</a>\n            </li>\n            <li class='menu' data-channel='project'>\n              <a href=\"${getBase()}/project.html\">项目</a>\n            </li>\n            <li class='menu' data-channel='lab'>\n              <a href=\"${getBase()}/lab.html\">实验室</a>\n            </li>\n            <li class='menu' data-channel='friend'>\n              <a href=\"${getBase()}/friend.html\">朋友</a>\n            </li>\n            <li class='menu' data-channel='about'>\n              <a href=\"${getBase()}/about.html\">我</a>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </header>\n  `\n  const dom = $(tmpl)\n  $('body').prepend(dom)\n\n  setTimeout(() => {\n    setChannel()\n    handleHamberger()\n  }, 0)\n}\n\nconst setChannel = () => {\n  const path = getPath()\n  let channel = path.split('/')[1]\n  if (channel) {\n    channel = channel.replace(/.html$/, '')\n    const elem = $(`#mf-header .nav-menu .menu[data-channel='${channel}']`)\n    elem.length && elem.addClass('active')\n  }\n}\n\nconst handleHamberger = () => {\n  const hambergerBtn = $('#mf-header .hamberger')\n  const navMenu = $('#mf-header .nav-menu')\n  hambergerBtn.on('click', function () {\n    $(this).toggleClass('open')\n    navMenu.toggleClass('open')\n  })\n}\n\nconst resizeHandler = () => {\n  fixRatioAll()\n}\n\n$(document).ready(() => {\n  initNavigator()\n  fixRatioAll()\n\n  $(window).on('resize', resizeHandler)\n})\n\n// Baidu ZhanZhang - Auto Push\n;(function () {\n  var bp = document.createElement('script')\n  var curProtocol = window.location.protocol.split(':')[0]\n  if (curProtocol === 'https') {\n    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js'\n  } else {\n    bp.src = 'http://push.zhanzhang.baidu.com/push.js'\n  }\n  var s = document.getElementsByTagName('script')[0]\n  s.parentNode.insertBefore(bp, s)\n})()\n\n// Baidu TongJi\n/* eslint-disable no-use-before-define */\nvar _hmt = _hmt || []\n/* eslint-enable no-use-before-define */\n;(function () {\n  var hm = document.createElement('script')\n  hm.src = 'https://hm.baidu.com/hm.js?d82e27389265a031116dc59fe6cd8d1d'\n  var s = document.getElementsByTagName('script')[0]\n  s.parentNode.insertBefore(hm, s)\n})()\n"]}
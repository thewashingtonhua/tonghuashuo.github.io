<!DOCTYPE html><html lang="zh"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge,chrome=1"/><meta http-equiv="render" content="webkit"/><meta http-equiv="force-rendering" content="webkit"/><meta http-equiv="format-detection" content="telephone=no"/><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, maximum-scale=1.0, userscalable=no, shrink-to-fit=no, viewport-fit=cover"/><style data-href="/styles.0ad50f5d0a5549c0061c.css">/*! normalize-scss | MIT/GPLv2 License | bit.ly/normalize-scss */html{line-height:1.15}article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}figcaption,figure{display:block}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}main{display:block}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}button{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}input{overflow:visible}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;display:table;max-width:100%;padding:0;color:inherit;white-space:normal}progress{display:inline-block;vertical-align:baseline}textarea{overflow:auto}details{display:block}summary{display:list-item}menu{display:block}canvas{display:inline-block}template{display:none}[hidden]{display:none}*{box-sizing:border-box}body,html{margin:0;padding:0}html{font-family:-apple-system,BlinkMacSystemFont,PingFang SC,Hiragino Sans GB,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Open Sans,Droid Sans,Microsoft YaHei,WenQuanYi Micro Hei,Helvetica Neue,Tahoma,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0;background-color:#202124;-webkit-overflow-scrolling:touch;position:relative;z-index:2}h1,h2,h3,h4,h5,h6,p{margin:0;font-weight:400}ol,ul{margin:0;padding:0}ul{list-style:none}a{text-decoration:none}.scroll-lock{overflow:hidden}.mf-content{width:100%;max-width:960px;margin:0 auto 30px;-webkit-transition:max-width .3s ease-out;transition:max-width .3s ease-out}@media (max-width:1280px){.mf-content{max-width:768px}}@media (max-width:768px){.mf-content{max-width:100%}}main{min-height:calc(100vh - 72px)}#mf-header{position:fixed;top:0;left:0;width:100%;height:72px;background-color:#202124;z-index:10;box-shadow:0 2px 4px rgba(0,0,0,.5)}#mf-header .mf-header-wrapper{width:100%;max-width:960px;height:100%;margin:0 auto;display:flex;justify-content:space-between;align-items:center;padding-left:15px;padding-right:15px;-webkit-transition:max-width .3s ease-out;transition:max-width .3s ease-out}@media (max-width:1280px){#mf-header .mf-header-wrapper{max-width:768px}}#mf-header .mf-header-wrapper .logo{height:72px;display:flex;align-items:center}#mf-header .mf-header-wrapper .logo img{height:32px;margin-right:15px}#mf-header .mf-header-wrapper .logo span{display:block;font-size:20px;height:72px;line-height:72px;color:#fff;-webkit-transition:color .3s ease-out,font-size .3s ease-out;transition:color .3s ease-out,font-size .3s ease-out}@media (max-width:480px){#mf-header .mf-header-wrapper .logo span{font-size:16px}}#mf-header .mf-header-wrapper .logo span:hover{color:#fff}#mf-header .mf-header-wrapper .hamberger{width:22px;height:16px;display:flex;flex-direction:column;justify-content:space-between;border-top:2px solid #fff;border-bottom:2px solid #fff;position:relative;-webkit-transition:border-color .3s ease-out;transition:border-color .3s ease-out;cursor:pointer}#mf-header .mf-header-wrapper .hamberger.open{border-top-color:transparent;border-bottom-color:transparent}#mf-header .mf-header-wrapper .hamberger.open:before{-webkit-transform:translate(-50%,-50%) rotate(-45deg);transform:translate(-50%,-50%) rotate(-45deg)}#mf-header .mf-header-wrapper .hamberger.open:after{-webkit-transform:translate(-50%,-50%) rotate(45deg);transform:translate(-50%,-50%) rotate(45deg)}#mf-header .mf-header-wrapper .hamberger:after,#mf-header .mf-header-wrapper .hamberger:before{content:"";position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;width:100%;height:2px;background-color:#fff;-webkit-transition:-webkit-transform .3s ease-out;transition:-webkit-transform .3s ease-out;transition:transform .3s ease-out;transition:transform .3s ease-out,-webkit-transform .3s ease-out}#mf-header .mf-header-wrapper .nav-menu{position:fixed;top:72px;left:0;right:0;bottom:0;background-color:#202124;display:flex;flex-direction:column;justify-content:center;align-items:center;opacity:0;pointer-events:none;z-index:10;-webkit-transition:opacity .3s ease-out;transition:opacity .3s ease-out}#mf-header .mf-header-wrapper .nav-menu.open{opacity:1;pointer-events:all}#mf-header .mf-header-wrapper .nav-menu .menus{flex-basis:1;display:flex;flex-direction:column;align-items:center}#mf-header .mf-header-wrapper .nav-menu .menus .menu:not(:first-child){margin-top:15px}#mf-header .mf-header-wrapper .nav-menu .menus .menu-link{display:block;width:180px;height:40px;line-height:40px;font-size:16px;color:#9e9e9e;text-align:center;-webkit-transition:background-color .3s ease-out;transition:background-color .3s ease-out}#mf-header .mf-header-wrapper .nav-menu .menus .menu-link::-moz-selection{background-color:transparent}#mf-header .mf-header-wrapper .nav-menu .menus .menu-link::selection{background-color:transparent}#mf-header .mf-header-wrapper .nav-menu .menus .menu-link:hover{color:#fff}#mf-header .mf-header-wrapper .nav-menu .menus .menu-link.active{color:#fff;border-top:1px solid #fff;border-bottom:1px solid #fff}#mf-header .mf-header-wrapper .nav-menu .menus .menu-link.active:hover{color:#fff}#mf-header-placeholder{height:72px}.project-detail .back-to-parent{padding:50px 15px 20px}.project-detail .back-to-parent a{color:#9e9e9e}.project-detail article{padding:10px 15px 20px}.project-detail article h1,.project-detail article h2,.project-detail article h3,.project-detail article h4,.project-detail article h5{color:#fff;font-weight:700;line-height:1.5;-webkit-transition:font-size .3s ease-out;transition:font-size .3s ease-out}.project-detail article h1{font-size:32px;margin-top:1em;margin-bottom:.5em}@media (max-width:480px){.project-detail article h1{font-size:28px}}.project-detail article h2{font-size:28px;margin-top:1.5em;margin-bottom:.8em}@media (max-width:480px){.project-detail article h2{font-size:24px}}.project-detail article h3{font-size:24px;margin-top:1.5em;margin-bottom:.5em}@media (max-width:480px){.project-detail article h3{font-size:20px}}.project-detail article h4{font-size:20px;margin-top:1.5em;margin-bottom:.5em}@media (max-width:480px){.project-detail article h4{font-size:18px}}.project-detail article h5{font-size:18px;margin-top:1.5em;margin-bottom:.5em}@media (max-width:480px){.project-detail article h5{font-size:16px}}.project-detail article p{color:#9e9e9e;line-height:1.75;margin-top:0;margin-bottom:1em;-webkit-transition:font-size .3s ease-out;transition:font-size .3s ease-out}@media (max-width:480px){.project-detail article p{font-size:14px}}.project-detail article a{color:#fff;text-decoration:none;font-size:16px;font-weight:300}.project-detail article a:hover{text-decoration:underline}.project-detail article section{position:relative}.project-detail article>img,.project-detail article section img{max-width:100%;margin-bottom:15px}.project-detail article>img.img-block,.project-detail article section img.img-block{display:block;width:100%}.project-detail article a::-moz-selection,.project-detail article h1::-moz-selection,.project-detail article h2::-moz-selection,.project-detail article h3::-moz-selection,.project-detail article h4::-moz-selection,.project-detail article h5::-moz-selection,.project-detail article img::-moz-selection,.project-detail article li::-moz-selection,.project-detail article p::-moz-selection,.project-detail article span::-moz-selection,.project-detail article td::-moz-selection,.project-detail article th::-moz-selection{background-color:#fff;color:#202124}.project-detail article a::selection,.project-detail article h1::selection,.project-detail article h2::selection,.project-detail article h3::selection,.project-detail article h4::selection,.project-detail article h5::selection,.project-detail article img::selection,.project-detail article li::selection,.project-detail article p::selection,.project-detail article span::selection,.project-detail article td::selection,.project-detail article th::selection{background-color:#fff;color:#202124}pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.gatsby-code-text{font-size:.8em;font-family:Fira Code,Source Code Pro,Menlo,Monaco,Consolas,Liberation Mono,Simsun,Courier New,monospace;color:#fff;background-color:#121212;border-radius:6px;padding:.5em .8em}@media (max-width:1280px){.gatsby-code-text{padding:.2em .5em}}.gatsby-highlight{background:#121212;color:#fff;border-radius:10px;overflow:auto;-moz-tab-size:1.5em;-o-tab-size:1.5em;tab-size:1.5em;margin-bottom:15px;-webkit-overflow-scrolling:touch;position:relative}.gatsby-highlight code,.gatsby-highlight span{font-family:Fira Code,Source Code Pro,Menlo,Monaco,Consolas,Liberation Mono,Simsun,Courier New,monospace}.gatsby-highlight code{color:#ccc}.gatsby-highlight>code[class*=gatsby-code-],.gatsby-highlight>pre.prism-code,.gatsby-highlight>pre[class*=gatsby-code-]{height:auto!important;margin:30px 15px 10px 50px;font-size:14px;line-height:20px;white-space:pre;word-break:break-word;overflow-x:auto;overflow-y:hidden;padding-bottom:5px}.gatsby-highlight+.gatsby-highlight{margin-top:20}.gatsby-highlight .token.attr-name{color:#c684c1}.gatsby-highlight .token.block-comment,.gatsby-highlight .token.cdata,.gatsby-highlight .token.comment,.gatsby-highlight .token.doctype,.gatsby-highlight .token.prolog{color:#666}.gatsby-highlight .token.constant,.gatsby-highlight .token.deleted,.gatsby-highlight .token.function-name,.gatsby-highlight .token.number,.gatsby-highlight .token.property,.gatsby-highlight .token.symbol{color:#5a9bcf}.gatsby-highlight .token.boolean{color:#ff8b50}.gatsby-highlight .token.tag{color:#fc929e}.gatsby-highlight .token.string{color:#8dc891}.gatsby-highlight .token.punctuation{color:#88c6be}.gatsby-highlight .token.builtin,.gatsby-highlight .token.char,.gatsby-highlight .token.inserted,.gatsby-highlight .token.selector{color:#d8dee9}.gatsby-highlight .token.function{color:#efbd54}.gatsby-highlight .token.entity,.gatsby-highlight .token.operator,.gatsby-highlight .token.url,.gatsby-highlight .token.variable{color:#9adcff}.gatsby-highlight .token.attr-value{color:#8dc891}.gatsby-highlight .token.keyword{color:#c684c1}.gatsby-highlight .token.atrule,.gatsby-highlight .token.class-name{color:#fac863}.gatsby-highlight .token.important{font-weight:400}.gatsby-highlight .token.bold{font-weight:700}.gatsby-highlight .token.italic{font-style:italic}.gatsby-highlight .token.entity{cursor:help}.gatsby-highlight .namespace{opacity:.7}.gatsby-highlight[data-language]:before{position:absolute;top:0;right:20px;padding:3px 10px;font-size:12px;text-align:right;color:#444;font-weight:700;letter-spacing:.8px;text-transform:uppercase;border-radius:0 0 5px 5px;background:#ddd}.gatsby-highlight[data-language=html]:before{content:"html";background:#ef5f27;color:#fff;font-weight:400}.gatsby-highlight[data-language=css]:before{content:"css";background:#2aa9df;color:#fff;font-weight:400}.gatsby-highlight[data-language=sass]:before{content:"sass";background:#d0649a;color:#fff;font-weight:400}.gatsby-highlight[data-language=scss]:before{content:"scss";background:#d0649a;color:#fff;font-weight:400}.gatsby-highlight[data-language=less]:before{content:"less";background:#1d365d;color:#fff;font-weight:400}.gatsby-highlight[data-language=javascript]:before,.gatsby-highlight[data-language=js]:before{content:"js";background:#f7df1e}.gatsby-highlight[data-language=jsx]:before{content:"jsx";background:#f7df1e}.gatsby-highlight[data-language=ts]:before,.gatsby-highlight[data-language=typescript]:before{content:"ts";background:#284d7f;color:#fff;font-weight:400}.gatsby-highlight[data-language=tsx]:before{content:"tsx";background:#284d7f;color:#fff;font-weight:400}.gatsby-highlight[data-language=bash]:before{content:"bash";background:#f6ffe5;font-weight:400}.gatsby-highlight[data-language=json]:before{content:"json";background:#267cb9;font-weight:400}.gatsby-highlight[data-language=php]:before{content:"php";background:#8892bf;font-weight:400}.gatsby-highlight-code-line{background-color:#28292b;display:block;margin:-.125rem 0;padding:.125rem 0}.line-numbers .line-numbers-rows{top:30px;padding-left:15px}.line-numbers .line-numbers-rows>span{line-height:1.5}.blog-post .back-to-parent{padding:50px 15px 20px}.blog-post .back-to-parent a{color:#9e9e9e}.blog-post article{padding:10px 15px 150px}.blog-post article a::-moz-selection,.blog-post article code::-moz-selection,.blog-post article h1::-moz-selection,.blog-post article h2::-moz-selection,.blog-post article h3::-moz-selection,.blog-post article h4::-moz-selection,.blog-post article h5::-moz-selection,.blog-post article h6::-moz-selection,.blog-post article img::-moz-selection,.blog-post article li::-moz-selection,.blog-post article p::-moz-selection,.blog-post article span::-moz-selection,.blog-post article td::-moz-selection,.blog-post article th::-moz-selection,.blog-post article time::-moz-selection{background-color:#fff;color:#202124}.blog-post article a::selection,.blog-post article code::selection,.blog-post article h1::selection,.blog-post article h2::selection,.blog-post article h3::selection,.blog-post article h4::selection,.blog-post article h5::selection,.blog-post article h6::selection,.blog-post article img::selection,.blog-post article li::selection,.blog-post article p::selection,.blog-post article span::selection,.blog-post article td::selection,.blog-post article th::selection,.blog-post article time::selection{background-color:#fff;color:#202124}.blog-post article>h1{color:#fff;font-size:36px;font-weight:700;line-height:1.3;margin-bottom:.5em;-webkit-transition:font-size .3s ease-out;transition:font-size .3s ease-out;position:relative}@media (max-width:1280px){.blog-post article>h1{font-size:32px}}@media (max-width:768px){.blog-post article>h1{font-size:28px}}.blog-post article .metas{display:flex;margin-bottom:20px}@media (max-width:480px){.blog-post article .metas{flex-direction:column}}.blog-post article .metas .publish-date{color:#9e9e9e;font-size:18px;font-weight:100;line-height:1;position:relative;margin-bottom:0;-webkit-transition:font-size .3s ease-out,margin-bottom .3s ease-out;transition:font-size .3s ease-out,margin-bottom .3s ease-out}@media (max-width:480px){.blog-post article .metas .publish-date{margin-bottom:4px;font-size:14px}}.blog-post article .metas .tags{color:#9e9e9e;font-size:18px;line-height:1;margin-bottom:0;-webkit-transition:font-size .3s ease-out;transition:font-size .3s ease-out;position:relative;padding-left:1em;margin-left:1em}@media (max-width:480px){.blog-post article .metas .tags{font-size:14px}}.blog-post article .metas .tags:after{content:"";position:absolute;top:50%;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:1px;height:16px;background-color:#9e9e9e}@media (max-width:480px){.blog-post article .metas .tags:after{content:none}}.blog-post article .banner{margin-bottom:20px}.blog-post article .banner img{width:100%;display:block;border-radius:6px}.blog-post article .content h1,.blog-post article .content h2,.blog-post article .content h3,.blog-post article .content h4,.blog-post article .content h5,.blog-post article .content h6{color:#fff;font-weight:700;line-height:1.5;margin-top:1.5em;margin-bottom:.5em;-webkit-transition:font-size .3s ease-out;transition:font-size .3s ease-out}.blog-post article .content h1{font-size:32px}@media (max-width:480px){.blog-post article .content h1{font-size:28px}}.blog-post article .content h2{font-size:28px}@media (max-width:480px){.blog-post article .content h2{font-size:24px}}.blog-post article .content h3{font-size:24px}@media (max-width:480px){.blog-post article .content h3{font-size:20px}}.blog-post article .content h4{font-size:20px}@media (max-width:480px){.blog-post article .content h4{font-size:18px}}.blog-post article .content h5{font-size:18px}@media (max-width:480px){.blog-post article .content h5{font-size:16px}}.blog-post article .content h6{font-size:16px}.blog-post article .content p{font-size:15px;color:#9e9e9e;line-height:1.75;margin-bottom:1em;-webkit-transition:font-size .3s ease-out;transition:font-size .3s ease-out}@media (max-width:480px){.blog-post article .content p{font-size:14px}}.blog-post article .content a{color:#fff;word-wrap:break-word;padding:0 .5em 2px;-webkit-transition:border-bottom-color .3s ease-out;transition:border-bottom-color .3s ease-out}.blog-post article .content a:not(.gatsby-resp-image-link){border-bottom:1px dotted #fff}.blog-post article .content a:not(.gatsby-resp-image-link)[target=_blank]{display:inline-flex;align-items:center}.blog-post article .content a:not(.gatsby-resp-image-link)[target=_blank]:after{content:"";width:1em;height:1em;margin-left:.3em;background-size:contain;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSIjZmZmIj48cGF0aCBkPSJNMTkgMTlINVY1aDdWM0g1YTIgMiAwIDAgMC0yIDJ2MTRhMiAyIDAgMCAwIDIgMmgxNGMxLjEgMCAyLS45IDItMnYtN2gtMnY3ek0xNCAzdjJoMy41OWwtOS44MyA5LjgzIDEuNDEgMS40MUwxOSA2LjQxVjEwaDJWM2gtN3oiLz48L3N2Zz4=)}.blog-post article .content .gatsby-resp-image-link:not(:first-child){margin-top:15px}.blog-post article .content ul{list-style:circle}.blog-post article .content ol,.blog-post article .content ul{padding-left:30px;margin-bottom:1em}.blog-post article .content ol ol,.blog-post article .content ol ul,.blog-post article .content ul ol,.blog-post article .content ul ul{margin-bottom:.5em}.blog-post article .content ol li,.blog-post article .content ol p,.blog-post article .content ul li,.blog-post article .content ul p{line-height:1.8;margin-bottom:.5em;color:#9e9e9e;-webkit-transition:font-size .3s ease-out;transition:font-size .3s ease-out}@media (max-width:480px){.blog-post article .content ol li,.blog-post article .content ol p,.blog-post article .content ul li,.blog-post article .content ul p{font-size:14px}}.blog-post article .content table{margin-bottom:15px;min-width:100%;border-collapse:collapse}.blog-post article .content table thead tr{background-color:#1f1f1f}.blog-post article .content table tbody tr:nth-child(odd){background-color:#292929}.blog-post article .content table tbody tr:nth-child(2n){background-color:#1f1f1f}.blog-post article .content table td,.blog-post article .content table th{font-size:15px;line-height:1.75;margin-top:0;margin-bottom:1em;padding:15px 20px;text-align:left;white-space:nowrap;word-wrap:normal;color:#9e9e9e;-webkit-transition:font-size .3s ease-out;transition:font-size .3s ease-out}@media (max-width:480px){.blog-post article .content table td,.blog-post article .content table th{font-size:14px}}.blog-post article .content table td a,.blog-post article .content table th a{padding:0}.blog-post article .content blockquote{margin:0 0 1em;border-left:3px solid #9e9e9e;background-color:#121212;padding:15px}.blog-post article .content blockquote p{color:#9e9e9e;font-size:14px;line-height:1.75;margin-bottom:1em}@media (max-width:480px){.blog-post article .content blockquote p{font-size:12px}}.blog-post article .content blockquote p+p{margin-top:.75em}.blog-post article .content blockquote p:last-of-type{margin-bottom:0}.blog-post article .content hr{margin:50px auto;width:80%;height:1px;background-color:#9e9e9e;border:none}.blog-post article.draft .title:before{content:"[ Draft ] ";color:#fc0266}#page-not-found{height:calc(100vh - 72px);display:flex;flex-direction:column;justify-content:center;align-items:center;padding:15px}#page-not-found h1{color:#fff;font-size:36px}#page-not-found pre{margin-top:40px;margin-bottom:0}#page-not-found pre code{font-size:16px;font-family:Fira Code,Source Code Pro,Menlo,Monaco,Consolas,Liberation Mono,Simsun,Courier New,monospace;color:#9e9e9e;line-height:1.75}@media (max-width:480px){#page-not-found pre code{font-size:14px}}#page-not-found .btn-back{font-size:16px;font-family:Fira Code,Source Code Pro,Menlo,Monaco,Consolas,Liberation Mono,Simsun,Courier New,monospace;color:#fff;margin-top:50px;display:flex;justify-content:center;align-items:center;padding:15px 30px;border:1px solid #fff;border-radius:4px;-webkit-transition:background-color .15s ease-out,color .15s ease-out;transition:background-color .15s ease-out,color .15s ease-out}@media (max-width:480px){#page-not-found .btn-back{font-size:14px}}#page-not-found .btn-back:hover{background-color:#fff;color:#202124}#about article{padding:0 15px}#about article h1{color:#fff;font-size:32px;font-weight:700;line-height:1.5;margin-top:1.5em;margin-bottom:.5em;-webkit-transition:margin-top .3s ease-out,font-size .3s ease-out;transition:margin-top .3s ease-out,font-size .3s ease-out}@media (max-width:768px){#about article h1{font-size:28px}}#about article h1:first-of-type{margin-top:50px}@media (max-width:768px){#about article h1:first-of-type{margin-top:20px}}#about article p{color:#9e9e9e;line-height:1.75;margin-top:0;margin-bottom:.75em;-webkit-transition:font-size .3s ease-out;transition:font-size .3s ease-out}@media (max-width:480px){#about article p{font-size:14px}}#about article p span.highlight{color:#fff}#about article ul{padding-left:20px;margin-bottom:.75em}#about article ul li{list-style:circle;color:#9e9e9e;line-height:1.8;margin-bottom:.5em}#about article img{width:100%;margin-bottom:1em}#about article img.qr-wechat{max-width:160px}@media (max-width:480px){#about article img.qr-wechat{max-width:100%}}#about article a{color:#fff}#about article a:hover{text-decoration:underline}.blog-catalog .blog-list{padding-top:50px;-webkit-transition:padding-top .3s ease-out;transition:padding-top .3s ease-out}@media (max-width:768px){.blog-catalog .blog-list{padding-top:0}}.blog-catalog .blog-list .blog{display:flex;flex-direction:row-reverse;-webkit-transition:background-color .3s ease-out;transition:background-color .3s ease-out;padding:15px;margin-bottom:20px}@media (max-width:768px){.blog-catalog .blog-list .blog{align-items:stretch}}@media (max-width:480px){.blog-catalog .blog-list .blog{width:100%;margin-bottom:0}}.blog-catalog .blog-list .blog .banner{overflow:hidden;position:relative;width:240px;height:135px;flex-shrink:0;-webkit-transition:width .3s ease-out,height .3s ease-out;transition:width .3s ease-out,height .3s ease-out}@media (max-width:1280px){.blog-catalog .blog-list .blog .banner{width:240px;height:135px}}@media (max-width:768px){.blog-catalog .blog-list .blog .banner{width:200px;min-height:135px;height:auto}}@media (max-width:480px){.blog-catalog .blog-list .blog .banner{width:120px;min-height:90px}}.blog-catalog .blog-list .blog .banner img{height:100%;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.blog-catalog .blog-list .blog .info{padding-right:10px;flex-grow:1;display:flex;flex-direction:column;justify-content:space-between}.blog-catalog .blog-list .blog .info .title{color:#fff;font-size:20px;font-weight:700;line-height:1.375;margin-bottom:12px;word-wrap:break-word;-webkit-transition:font-size .3s ease-out,margin-bottom .3s ease-out;transition:font-size .3s ease-out,margin-bottom .3s ease-out}@media (max-width:1280px){.blog-catalog .blog-list .blog .info .title{margin-bottom:8px}}@media (max-width:768px){.blog-catalog .blog-list .blog .info .title{font-size:18px}}@media (max-width:480px){.blog-catalog .blog-list .blog .info .title{font-size:14px;margin-bottom:4px}}.blog-catalog .blog-list .blog .info .desc{color:#9e9e9e;line-height:1.375;word-wrap:break-word;margin-bottom:8px;font-size:14px;flex-grow:1;-webkit-transition:color .3s ease-out,font-size .3s ease-out,margin-bottom .3s ease-out;transition:color .3s ease-out,font-size .3s ease-out,margin-bottom .3s ease-out}@media (max-width:480px){.blog-catalog .blog-list .blog .info .desc{font-size:12px;margin-bottom:4px}}.blog-catalog .blog-list .blog .info .blog__footer{display:flex}@media (max-width:768px){.blog-catalog .blog-list .blog .info .blog__footer{flex-direction:column}}.blog-catalog .blog-list .blog .info .blog__footer .date{font-size:14px;color:#9e9e9e;line-height:1;position:relative;white-space:nowrap;-webkit-transition:font-size .3s ease-out,margin-bottom .3s ease-out;transition:font-size .3s ease-out,margin-bottom .3s ease-out}@media (max-width:768px){.blog-catalog .blog-list .blog .info .blog__footer .date{margin-bottom:2px;font-size:12px}}.blog-catalog .blog-list .blog .info .blog__footer .tags{padding-left:10px;margin-left:10px;display:flex;color:#9e9e9e;line-height:1;font-size:14px;-webkit-transition:font-size .3s ease-out;transition:font-size .3s ease-out;position:relative}@media (max-width:768px){.blog-catalog .blog-list .blog .info .blog__footer .tags{font-size:12px}}.blog-catalog .blog-list .blog .info .blog__footer .tags:before{content:"";position:absolute;top:50%;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:1px;height:12px;background-color:#9e9e9e}@media (max-width:768px){.blog-catalog .blog-list .blog .info .blog__footer .tags:before{content:none}}.blog-catalog .blog-list .blog.draft .title:before{content:"[ Draft ] ";color:#fc0266}.blog-catalog .bottom-line{width:100%;height:30px;position:relative;display:flex;align-items:center;justify-content:space-between}.blog-catalog .bottom-line span{color:#9e9e9e;padding:0 .5em}.blog-catalog .bottom-line:after,.blog-catalog .bottom-line:before{content:"";height:1px;background-color:#9e9e9e;flex-grow:1}#friends h1.title{font-weight:100;font-size:32px;color:#fff;padding:0 15px;margin-top:50px;margin-bottom:20px;-webkit-transition:margin-top .3s ease-out,font-size .3s ease-out;transition:margin-top .3s ease-out,font-size .3s ease-out}@media (max-width:768px){#friends h1.title{margin-top:20px;font-size:28px}}#friends .friends:after{clear:both;content:".";display:block;width:0;height:0;visibility:hidden}#friends .friend{display:block;float:left;width:50%;padding:10px 15px 30px;-webkit-transition:background-color .3s ease-out;transition:background-color .3s ease-out}@media (max-width:480px){#friends .friend{width:100%}}#friends .friend .cover{width:100%}#friends .friend .cover img{display:block;width:100%}#friends .friend .intro{padding:10px 0}#friends .friend .intro h2{font-size:26px;color:#fff;line-height:1.5;-webkit-transition:color .3s ease-out;transition:color .3s ease-out;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media (max-width:480px){#friends .friend .intro h2{font-size:24px}}#friends .friend .intro ul li{color:#9e9e9e;-webkit-transition:color .3s ease-out;transition:color .3s ease-out;font-size:14px;line-height:1.5;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media (max-width:480px){#friends .friend .intro ul li{font-size:12px}}.channel-header{padding:10px 15px}.channel-header:after{clear:both;content:".";display:block;width:0;height:0;visibility:hidden}.channel-header:first-of-type{margin-top:50px}@media (max-width:480px){.channel-header:first-of-type{margin-top:20px}}.channel-header .title{float:left;color:#fff;font-size:28px;line-height:32px}.channel-header .more{float:right;color:#9e9e9e;font-size:16px;line-height:32px}.channel-body{margin-bottom:40px}.channel-body:after{clear:both;content:".";display:block;width:0;height:0;visibility:hidden}@media (max-width:480px){.channel-body{margin-bottom:20px}}.blogs:after{clear:both;content:".";display:block;width:0;height:0;visibility:hidden}.blogs .blog{display:block;width:100%;padding:15px;-webkit-transition:background-color .3s ease-out;transition:background-color .3s ease-out}@media (max-width:480px){.blogs .blog{width:100%}}.blogs .blog .banner{position:relative}.blogs .blog .banner img{width:100%}.blogs .blog .info{padding:10px 0}.blogs .blog .info .title{color:#fff;font-size:22px;font-weight:700;line-height:1.375;margin-bottom:12px;word-wrap:break-word;-webkit-transition:font-size .3s ease-out;transition:font-size .3s ease-out}@media (max-width:480px){.blogs .blog .info .title{font-size:20px}}.blogs .blog .info .desc{font-size:14px;line-height:1.3;word-wrap:break-word;margin-bottom:10px;color:#9e9e9e}.blogs .blog .info .blog__footer{display:flex}@media (max-width:768px){.blogs .blog .info .blog__footer{flex-direction:column}}.blogs .blog .info .blog__footer .date{font-size:14px;color:#9e9e9e;line-height:1;position:relative;white-space:nowrap;-webkit-transition:margin-bottom .3s ease-out;transition:margin-bottom .3s ease-out}@media (max-width:768px){.blogs .blog .info .blog__footer .date{margin-bottom:6px}}.blogs .blog .info .blog__footer .tags{display:flex;color:#9e9e9e;line-height:1;font-size:14px;padding-left:10px;margin-left:10px;-webkit-transition:font-size .3s ease-out;transition:font-size .3s ease-out}@media (max-width:768px){.blogs .blog .info .blog__footer .tags{font-size:12px}}.blogs .blog .info .blog__footer .tags:after{content:"";position:absolute;top:50%;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:1px;height:12px;background-color:#9e9e9e}@media (max-width:768px){.blogs .blog .info .blog__footer .tags:after{content:none}}.projects .project{display:block;float:left;width:50%;padding:15px;-webkit-transition:background-color .3s ease-out;transition:background-color .3s ease-out}@media (max-width:480px){.projects .project{width:100%}}.projects .project .cover{width:100%}.projects .project .cover img{display:block;width:100%}.projects .project .intro{padding:10px 0}.projects .project .intro h2{font-size:26px;line-height:1.5;color:#fff;-webkit-transition:font-size .3s ease-out;transition:font-size .3s ease-out;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media (max-width:480px){.projects .project .intro h2{font-size:20px}}.projects .project .intro p{color:#9e9e9e;-webkit-transition:font-size .3s ease-out;transition:font-size .3s ease-out;font-size:14px;line-height:1.5;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media (max-width:480px){.projects .project .intro p{font-size:12px}}.lab-catalog h1{color:#fff;margin-bottom:20px;font-size:32px;font-family:Fira Code,Source Code Pro,Menlo,Monaco,Consolas,Liberation Mono,Simsun,Courier New,monospace;padding:0 15px;-webkit-transition:margin-top .3s ease-out,font-size .3s ease-out;transition:margin-top .3s ease-out,font-size .3s ease-out}@media (max-width:768px){.lab-catalog h1{font-size:28px}}.lab-catalog h1:first-of-type{margin-top:50px}@media (max-width:768px){.lab-catalog h1:first-of-type{margin-top:20px}}.lab-catalog .category{margin-bottom:20px;width:100%;padding:0 15px}.lab-catalog .category:after{clear:both;content:".";display:block;width:0;height:0;visibility:hidden}.lab-catalog .category .item{display:block;float:left;width:calc((100% - 20px)/3);padding:50px 10px;margin-right:10px;margin-bottom:10px;border:1px solid #9e9e9e;color:#9e9e9e;text-align:center;font-family:Fira Code,Source Code Pro,Menlo,Monaco,Consolas,Liberation Mono,Simsun,Courier New,monospace;-webkit-transition:color .3s ease-out,border-color .3s ease-out;transition:color .3s ease-out,border-color .3s ease-out;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media (max-width:480px){.lab-catalog .category .item{width:calc((100% - 10px)/2)}}.lab-catalog .category .item:hover{color:#fff;border-color:#fff}.lab-catalog .category .item:nth-child(3n+3){margin-right:0}@media (max-width:480px){.lab-catalog .category .item:nth-child(3n+3){margin-right:10px}}@media (max-width:480px){.lab-catalog .category .item:nth-child(2n){margin-right:0}}.lab-item article{padding:0 15px}.lab-item a,.lab-item h1,.lab-item h2,.lab-item label,.lab-item li,.lab-item p,.lab-item td,.lab-item th{color:#9e9e9e;font-family:Fira Code,Source Code Pro,Menlo,Monaco,Consolas,Liberation Mono,Simsun,Courier New,monospace}.lab-item table{width:100%}.lab-item td{border:1px solid hsla(0,0%,100%,.3);padding:15px;white-space:nowrap}.lab-item tr.title td{color:#fff;padding:25px 15px;font-weight:700}.lab-item h1{font-size:32px;margin-bottom:.5em}.lab-item h1,.lab-item h2{color:#fff;line-height:1.5}.lab-item h2{font-size:28px;margin-top:1em}.lab-item p{color:#9e9e9e}.lab-item p,.lab-item ul li{line-height:1.5}.lab-item a{font-size:16px;text-decoration:none}.lab-item a:hover{text-decoration:underline}.lab-item a.back{display:block;font-size:20px;color:#9e9e9e;padding:50px 0 20px}.lab-item canvas{display:block}.lab-item #error{color:red}#lab-html5-input label{display:block;margin-bottom:.5em;font-size:16px}#lab-html5-input input{width:100%;height:50px;line-height:50px;border:1px solid #999;background-color:transparent;margin-bottom:15px;font-size:16px}#lab-html5-input input[type=\"date\"],#lab-html5-input input[type=\"datetime\"],#lab-html5-input input[type=\"email\"],#lab-html5-input input[type=\"number\"],#lab-html5-input input[type=\"password\"],#lab-html5-input input[type=\"search\"],#lab-html5-input input[type=\"tel\"],#lab-html5-input input[type=\"text\"],#lab-html5-input input[type=\"url\"]{padding-left:1em}#lab-html5-online .online{color:green}#lab-html5-online .offline{color:red}.project-catalog .title{font-weight:100;font-size:32px;color:#fff;padding:0 15px;margin-top:50px;margin-bottom:20px;-webkit-transition:margin-top .3s ease-out,font-size .3s ease-out;transition:margin-top .3s ease-out,font-size .3s ease-out}@media (max-width:768px){.project-catalog .title{margin-top:20px;font-size:28px}}.project-catalog .project-category-title{font-weight:100;font-size:24px;color:#fff;padding:0 15px;margin-top:50px;margin-bottom:20px}.project-catalog .project-list{margin-bottom:40px}.project-catalog .project-list:after{clear:both;content:".";display:block;width:0;height:0;visibility:hidden}.project-catalog .project-list .project{display:block;float:left;width:50%;padding:15px 15px 30px;-webkit-transition:background-color .3s ease-out;transition:background-color .3s ease-out}@media (max-width:480px){.project-catalog .project-list .project{width:100%}}.project-catalog .project-list .project:nth-child(2n){margin-right:0}.project-catalog .project-list .project .cover{width:100%}.project-catalog .project-list .project .cover img{display:block;width:100%}.project-catalog .project-list .project .intro{padding:20px 0}.project-catalog .project-list .project .intro h2{font-size:26px;color:#fff;-webkit-transition:color .3s ease-out;transition:color .3s ease-out;margin-bottom:.5em;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media (max-width:480px){.project-catalog .project-list .project .intro h2{font-size:24px}}.project-catalog .project-list .project .intro p{color:#9e9e9e;-webkit-transition:color .3s ease-out;transition:color .3s ease-out;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media (max-width:480px){.project-catalog .project-list .project .intro p{font-size:12px}}.project-catalog .project-list .project.draft .intro h2:before{content:"[ Draft ] ";color:#fc0266}#recruit article{padding:0 15px}#recruit article h1{color:#fff;font-size:32px;font-weight:700;line-height:1.5;margin-top:1.5em;margin-bottom:.5em;-webkit-transition:margin-top .3s ease-out,font-size .3s ease-out;transition:margin-top .3s ease-out,font-size .3s ease-out}@media (max-width:768px){#recruit article h1{font-size:28px}}#recruit article h1:first-of-type{margin-top:50px}@media (max-width:768px){#recruit article h1:first-of-type{margin-top:20px}}#recruit article h2{color:#fff;font-size:26px;font-weight:700;line-height:1.5;margin-top:1.5em;margin-bottom:.5em;-webkit-transition:margin-top .3s ease-out,font-size .3s ease-out;transition:margin-top .3s ease-out,font-size .3s ease-out}@media (max-width:768px){#recruit article h2{font-size:20px}}#recruit article h2:first-of-type{margin-top:50px}@media (max-width:768px){#recruit article h2:first-of-type{margin-top:20px}}#recruit article p{color:#9e9e9e;line-height:1.75;margin-top:0;margin-bottom:.75em;-webkit-transition:font-size .3s ease-out;transition:font-size .3s ease-out}@media (max-width:480px){#recruit article p{font-size:14px}}#recruit article p span.highlight{color:#fff}#recruit article ul{padding-left:20px;margin-bottom:.75em}#recruit article ul li{list-style:circle;color:#9e9e9e;line-height:1.8;margin-bottom:.5em}#recruit article img{width:100%;margin-bottom:1em}#recruit article img.qr-wechat{max-width:160px}@media (max-width:480px){#recruit article img.qr-wechat{max-width:100%}}#recruit article a{color:#fff}#recruit article a:hover{text-decoration:underline}</style><meta name="generator" content="Gatsby 2.13.64"/><style type="text/css">.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;color:transparent;}</style><link rel="shortcut icon" href="/icons/icon-48x48.png?v=235cfbaa8f456dbe9fab4607e692557c"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#000"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=235cfbaa8f456dbe9fab4607e692557c"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=235cfbaa8f456dbe9fab4607e692557c"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=235cfbaa8f456dbe9fab4607e692557c"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=235cfbaa8f456dbe9fab4607e692557c"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=235cfbaa8f456dbe9fab4607e692557c"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=235cfbaa8f456dbe9fab4607e692557c"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=235cfbaa8f456dbe9fab4607e692557c"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=235cfbaa8f456dbe9fab4607e692557c"/><title data-react-helmet="true">TypeScript 次日指南 | 博客 | 童话说</title><meta data-react-helmet="true" name="description" content="Washington Hua 的个人博客，专注大前端技术"/><meta data-react-helmet="true" property="og:title" content="TypeScript 次日指南 | 博客"/><meta data-react-helmet="true" property="og:description" content="Washington Hua 的个人博客，专注大前端技术"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Washington Hua"/><meta data-react-helmet="true" name="twitter:title" content="TypeScript 次日指南 | 博客"/><meta data-react-helmet="true" name="twitter:description" content="Washington Hua 的个人博客，专注大前端技术"/><meta data-react-helmet="true" name="keywords" content="tonghuashuo,github,front-end,javascript,typescript,react,node,washington,hua,童话,童话说,前端,博客,技术,计算机,互联网,typescript"/><link as="script" rel="preload" href="/webpack-runtime-a33a97b33cb343b05d4f.js"/><link as="script" rel="preload" href="/app-9e24cf40299e2bcbffe7.js"/><link as="script" rel="preload" href="/styles-c4c0a43cf7c115501b1b.js"/><link as="script" rel="preload" href="/1-8068e6f96b6d2ebd96f5.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-tsx-c178b7bdd57210ef26ce.js"/><link as="fetch" rel="preload" href="/page-data/blog/2019/07/28/typescript-the-second-day/page-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><header id="mf-header"><div class="mf-header-wrapper"><a class="logo" href="/"><img src="/static/logo-8503f6989dba3ce27939964a48c8b787.png" alt=""/><span>童话说</span></a><div class="hamberger"><div class="bar"></div><div class="bar"></div><div class="bar"></div></div><nav class="nav-menu"><ul class="menus"><li class="menu"><a class="menu-link active" href="/blog">博客</a></li><li class="menu"><a class="menu-link" href="/project">代表作</a></li><li class="menu"><a class="menu-link" href="/lab">实验室</a></li><li class="menu"><a class="menu-link" href="/friend">朋友</a></li><li class="menu"><a class="menu-link" href="/recruit">招人</a></li><li class="menu"><a class="menu-link" href="/about">我</a></li></ul></nav></div></header><section id="mf-header-placeholder"></section><main><div class="mf-content blog-post"><p class="back-to-parent"><a href="/blog">« 回到博客列表</a></p><article class="" id="blog__typescript-the-second-day"><h1 class="title">TypeScript 次日指南</h1><div class="metas"><p class="publish-date"><time dateTime="2019-07-27T16:00:00.000Z">Jul 28, 2019</time></p></div><div class="banner"><img src="/static/typescript-8239307adc5ccdfc32320e1bcadb6300.jpg" alt=""/></div><div class="content"><h2>杂谈</h2>
<p>不知道是就我这样，还是大家也是，最近的内容圈子里关于 TypeScript 的文章满天飞，各种 TypeScript 有多好、多受欢迎，要不就是 TypeScript 的教程、实践。偏偏我在这时候有了写这篇文章的想法，搞得很有跟风蹭热度的嫌疑。</p>
<p>作为一名坚持原创的作者，我并不想把市面上随手可得的东西，换一种方式再讲给大家听，这样不仅是在浪费大家的时间，也是在浪费我自己的时间。我所理解的为社区做贡献，应该是能够填补当前环境下的一些空白，去做一些真正有意义的事，而不是摆出一副资深的样子，去转发或是创造一些重复的内容。</p>
<p>今天这篇文章，虽然有跟风的嫌疑，但我向你保证，内容依然是绝对的原创。如有巧合，那么英雄所见略同。</p>
<h2>为什么是次日？</h2>
<p>上手 TypeScript 并不难，有 JavaScript 基础的同学，花个一天时间过一遍文档，基本就都清楚了。如果你刚好还有 Java、C# 等后端语言的基础，那么其中关于 OOP 的一些概念相信你一定会觉得非常眼熟。</p>
<p>如果你刚看完文档就开始准备把 TypeScript 用到项目中去，那么恭喜你，你很快就会遇到各种坑，而且你无法直接从文档中寻找到对应的解决方案。这篇文章的存在，就是希望能够填补这中间的空白，帮助各位顺利的把 TypeScript 落地到项目中。</p>
<p>这便是标题中「次日」的由来。如果你还没有看过 TypeScript 的文档，那么这篇文章现在还不适合你，建议先收藏起来，等看完了文档再回来。</p>
<p>如果你已经准备好了，那我们开始吧。</p>
<h2>你或许并不需要 TypeScript</h2>
<p>每个人接触 TypeScript 的原因不同，有的是被人安利，有的是因为团队在用，有的是因为用了 Angular。但不管因为什么入了这个坑，我们都需要明白：TypeScript 并非必须。</p>
<p>TypeScript 适合大型项目，小型项目最好还是继续用 JavaScript。这已经是业内的一个共识。</p>
<p>TypeScript 可以简单理解为 JavaScript + Types。从工程效率的角度上讲，Types 的部分属于额外的工作量，如果不能给项目带来足够的收益，去平衡掉其引入的成本，那么这项投入就不是很值得。</p>
<p>如果只是官网之类的小型项目，类型不类型的并不重要，没必要为了用 TypeScript 而用 TypeScript。但随着项目的规模和复杂度的增加，代码质量、沟通成本等问题开始浮现，而这恰恰是类型系统能够解决的问题。通过类型检测，我们可以更早的发现潜在的类型错误，进行主动防御，进而提高代码质量；通过类型定义，我们可以更加直观的描述我们的数据结构，降低团队作业中的沟通成本。</p>
<p>因此，要不要用 TypeScript，取决于你项目的类型以及规模，不要盲目跟风。</p>
<h2>别忘了 jsDoc</h2>
<p>很多人对 TypeScript 有一个误解，觉得有了静态类型的代码已经足够「自解释」，就不需要 jsDoc 一类的注释了。</p>
<p>静态类型描述的是数据的结构，而注释描述的是数据的作用，两者解决的是不同的问题，彼此之间并不冲突。</p>
<p>比如下面这段 JavaScript 代码：</p>
<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="gatsby-code-js line-numbers"><code class="gatsby-code-js"><span class="token keyword">function</span> <span class="token function">convert</span> <span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// some code</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>不难看出这是一个转换函数，接收一个待转换的值，以及一个配置对象，但我们并不知道这个函数用来转换什么，配置对象又有哪些参数。</p>
<p>现在我们用 TypeScript 来重写一下，补充一些类型定义。</p>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="gatsby-code-ts line-numbers"><code class="gatsby-code-ts"><span class="token keyword">function</span> <span class="token function">convert</span> <span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> config<span class="token punctuation">:</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> y<span class="token operator">?</span> <span class="token punctuation">:</span><span class="token builtin">boolean</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token comment">// some code</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>现在我们知道了这是一个用于处理字符串的转换函数，配置对象有两个参数，一个是必选的字符串，一个是可选的布尔值，最后返回的也是一个字符串。但具体到业务中，这个函数用来转换什么样的字符串，我们还是不太清楚。</p>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="gatsby-code-ts line-numbers"><code class="gatsby-code-ts"><span class="token comment">/**
 * @description 对手机号进行编码，隐藏其中一部分，如：13812345678 -> 138****5678
 * @param val 待编码的手机号
 * @param config 配置选项
 */</span>
<span class="token keyword">function</span> <span class="token function">convert</span> <span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> config<span class="token punctuation">:</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> y<span class="token operator">?</span> <span class="token punctuation">:</span><span class="token builtin">boolean</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token comment">// some code</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>加上注释之后，一切就都清楚了：这是一个对手机号进行编码，将其中一部分替换成其他字符，以保护用户隐私的函数。</p>
<p>所以你看，TypeScript 并不能完全替代 jsDoc 的作用，该写的注释还是得写。</p>
<p>当然对于上面的例子，如果是一个单纯的工具函数，我们完全可以使用更加直观的命名，比如 <code class="gatsby-code-text">encodeMobile (mobile, config)</code>，但如果这是某个类中的成员函数，那么可能就不可避免地会出现示例中的写法。总之，你明白我的意思就好，就不要钻牛角尖了。</p>
<p>对了，得益于 TypeScript 的类型系统，<code class="gatsby-code-text">@param</code> 不需要再指定数据类型了，只要对变量的用途进行描述就好了。如果你配置了 Lint 工具，它也会提醒你优先使用 TypeScript 来定义类型，不要重复定义。</p>
<h2>TSX 和 JSX</h2>
<p>之前我们在用 JavaScript 写 React 时，对文件的扩展名没有什么特别的要求，<code class="gatsby-code-text">*.js</code> 或者 <code class="gatsby-code-text">*.jsx</code> 都行。</p>
<p>但在 TypeScript 中，如果你要使用 JSX 语法，就不能使用 <code class="gatsby-code-text">*.ts</code>，必须使用 <code class="gatsby-code-text">*.tsx</code>。如果你不知道，或者忘了这么做，那么你会在使用了 JSX 代码的地方收到类型报错，但代码本身怎么看都没有问题。这也是刚上手 TypeScript + React 时几乎每个人都会遇到的坑。</p>
<p>关于这一点，TypeScript 只是在官方教程的示例代码中直接用了 <code class="gatsby-code-text">*.tsx</code>，但并没有明确说明这一问题。</p>
<p>React 则在它的官方文档中说明了这一规则：</p>
<blockquote>
<p>In React, you most likely write your components in a <code class="gatsby-code-text">.js</code> file. In TypeScript we have 2 file extensions:</p>
<p><code class="gatsby-code-text">.ts</code> is the default file extension while <code class="gatsby-code-text">.tsx</code> is a special extension used for files which contain JSX.</p>
</blockquote>
<blockquote>
<p>在使用 React 时，我们通常会把组件写在一个 <code class="gatsby-code-text">.*js</code> 文件里。在 TypeScript 中我们有两种文件扩展名：</p>
<p><code class="gatsby-code-text">.ts</code> 是默认的文件扩展名，而 <code class="gatsby-code-text">.tsx</code> 是用于包含了 JSX 的文件的特殊扩展名。</p>
</blockquote>
<p>其实上面这段话也没有明说在 <code class="gatsby-code-text">*.ts</code> 中使用 JSX 会报错，所以即便有人看到了这段话，可能也以为只是像 <code class="gatsby-code-text">*.jsx</code> 一样多了一种选择，并没有太当回事……直到遇到问题。</p>
<h2>变量的 Type 怎么找</h2>
<p>上手 TypeScript 之后很快我们就发现，即便是原生的 DOM、或是 React 的 API，也经常会要我们手动指定类型。但这些结构并不是简单的 JavaScript 原始类型，在使用 JavaScript 编写相关代码时候由于没有这种需要，我们也没关心过这些东西的类型，突然问起来，还真不知道这些类型叫什么名字。</p>
<p>不光是这些标准类型，同样的问题在很多第三方的库中也会遇到，比如一些组件库会检查你传入的 Props。</p>
<p>在我看来，这中间其实缺少了一部分的文档，来指导新用户如何找到所需要的类型。既然社区没有提供，那就我来吧。</p>
<p>当然，让每个开发者都熟记所有的类型肯定是不现实的，总不能每接触一个新的库，就要去记一堆类型吧。放心，世界还是美好的，这种事情，当然是有方法的。</p>
<p>最直白的方法就是去看库的 Types Definition，也就是那些 <code class="gatsby-code-text">*.d.ts</code> 文件。如果你刚好有在用 VS Code 的话，有一个非常方便的操作：把鼠标移动到你想知道它类型的代码上（比如某个变量、某个函数调用，或是某个 JSX 标签、某个组件的 props），右键选择「Go to Definition」（或者光标选中后按 F12），就可以跳转到它的类型定义文件了。</p>
<p>如果你更习惯使用 VS Code 之外的编辑器，我相信时至今日，它们应该也都早就对 TypeScript 提供了支持。具体操作我不太熟悉，你可以自己探索下（我一直用 VS Code，其它的不太熟）。</p>
<p>一般来说，这个操作可以直接把你带到你想要的地方，但考虑到类型是可以继承的，有时候一次跳转可能不太够，遇到这种情况，那就需要你随机应变一下，沿着继承关系多跳几次，直到找到你想要的内容。</p>
<p>对于不熟悉的类型，可以通过这个方法去寻找，慢慢熟悉以后，你会发现，一些常见的类型还是很好找的，稍微联想一下英文的表达方式，配合自动补全的提示，一般都不难找到。</p>
<p>为了方便初学者，我们还是稍微列举一些常见的类型，找找感觉：</p>
<h3>常见 Types 之 DOM</h3>
<p>TypeScript 自带了一些基本的类型定义，包括 ECMAScript 和 DOM 的类型定义，所有你需要的类型都可以从这里找到。如果你想做一些「纯 TypeScript 开发」的话，有这些就够了。</p>
<p>比如下面这张截图，就是对 <code class="gatsby-code-text">&lt;div&gt;</code> 标签的类型定义。我们可以看到，它继承了更加通用的 <code class="gatsby-code-text">HTMLElement</code> 类型，并且扩展了一个即将被废弃的 <code class="gatsby-code-text">align</code> 属性，以及两组 <code class="gatsby-code-text">addEventListener</code> 和 <code class="gatsby-code-text">removeEventListener</code>，注意这里使用了重载。</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/59ea3ce87ce94ba6ab5dbb8d600c0fe2/5c8c8/types-dom.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 68.94409937888199%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACI0lEQVQ4y41TyZabMBDkKzIGxL4Ys28GY3vGmcy85Jr//5lKtcCxL5OXQz21Gqm6VV0Yh25GUs8oj1dk/QL/0CEqR64t7LhAkPfwsga7IMPO3+PFT/HNjb+EkdQjPF4Oqwlx2cHPO+47BAIh4ze/GBAUI8Ji1AVVUkGlT0geq5G1M9x9TTSIqwb74Yy4W5DNNxwIiVVGEiEqetgs6LJjJ13vOLwr8bqS8O3XbyTNxOo8nLVQFTtuZsQnkpEwYAFVHJmfYPKcVTPmZUU5VFL+hcgjMI6vH9SIRFIlKYhSH7bDfL0UlzoncGWV/b2jO9K1O004XN71kx22L5WE3G9PsMoBVr7qZUsHz938A0bLp7nb++0op4YzKikyXGAxLzmBIqyo0Fg7L3TOjh6xwOiW79oWIrQkwukV8e0nQuZdWimkZk5/hd1dEVBDrz3CZO6FMKl10o6wS+rfnWDTdsb09rl1yG5iEnKq6fKOkMNweSmilWz60qoYF7QS9yYnblIOk4OUyTt5q+URmQx7m5Yrg2HssVJw+QF/vMBhh7KPaC2ru0C1Z3Y8wG1G7OgG6VI1LNRQb3pV8ayhhaZ+YmCto+gm5OI1wstq+Gmp9VSMgz0Ht69gyYuYszbc47VDIRSSfIDXn4kJyXjl0z+RLB/saFmtRFjbqr7Ag5C6iNe8ekLQ8++RJ8+c9nSDQ23+1zrrk+k1/Rtt5tQ2ebKC3j+RfQW5+wdE+ppYEGogjwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="types dom"
        title="types dom"
        src="/static/59ea3ce87ce94ba6ab5dbb8d600c0fe2/f570d/types-dom.png"
        srcset="/static/59ea3ce87ce94ba6ab5dbb8d600c0fe2/0783d/types-dom.png 240w,
/static/59ea3ce87ce94ba6ab5dbb8d600c0fe2/782f4/types-dom.png 480w,
/static/59ea3ce87ce94ba6ab5dbb8d600c0fe2/f570d/types-dom.png 960w,
/static/59ea3ce87ce94ba6ab5dbb8d600c0fe2/5c8c8/types-dom.png 1127w"
        sizes="(max-width: 960px) 100vw, 960px"
        loading="lazy"
      />
  </a>
    </span></p>
<p>这里的命名也不是随便起的，都是在 <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLDivElement" target="_blank" rel="noopener noreferrer">MDN</a> 上可以查到的。</p>
<p>还是以 <code class="gatsby-code-text">&lt;div&gt;</code> 为例，我们已经知道它继承自 <code class="gatsby-code-text">HTMLElement</code>，其实再往上，<code class="gatsby-code-text">HTMLElement</code> 继承自 <code class="gatsby-code-text">Element</code>，<code class="gatsby-code-text">Element</code> 又继承自 <code class="gatsby-code-text">Node</code>，顺着这条路，你可以挖掘出所有 HTML 标签的类型。</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/bfadf4ef868bc1446cd94511666171ee/1f27a/HTMLDivElement.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 33.6356141797197%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAAA90lEQVQoz42Q626DMAyFef8nBMFATIyp7doKEpI4CZzZhk6t9mOL9MkX4cOxC+ccpmmCMUbx3itE9BNDCC9o/8gXTzCL5xiwbRuKuq4hlGWJqqrQtq0yDAO6rkPTNOj7XpH+m9TDiPfhQ+fG8wW32eJuFkAEU0rI64qVkRi5ll7KeY9HnpkYI4iJKWsvxoSNZx5vYwpJfCBee8ZsrIqmvPL6lsWy1sZaLIvDyg4C0XGi/VsV4r6gDiWRQaL97w+nkue8O1dX7EacBY6ODTi+GXH+LKg3FNX/Pus8xtMFn+cvnK43dhtfHcrKz+p/IQ7FmSBn+rUyv29cXCDzfE2V4QAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="HTMLDivElement"
        title="HTMLDivElement"
        src="/static/bfadf4ef868bc1446cd94511666171ee/f570d/HTMLDivElement.png"
        srcset="/static/bfadf4ef868bc1446cd94511666171ee/0783d/HTMLDivElement.png 240w,
/static/bfadf4ef868bc1446cd94511666171ee/782f4/HTMLDivElement.png 480w,
/static/bfadf4ef868bc1446cd94511666171ee/f570d/HTMLDivElement.png 960w,
/static/bfadf4ef868bc1446cd94511666171ee/1f27a/HTMLDivElement.png 1213w"
        sizes="(max-width: 960px) 100vw, 960px"
        loading="lazy"
      />
  </a>
    </span></p>
<p>对于一些 DOM 相关的属性，比如 <code class="gatsby-code-text">onclick</code>、<code class="gatsby-code-text">onchange</code> 等，你都可以如法炮制，找到它们的定义。</p>
<h3>常见 Types 之 React</h3>
<p>关于 TypeScript 的问题，有不少其实是在使用第三方库的时候遇到的，React 就是其中比较典型的一个。</p>
<p>其实方法都一样，只不过相关的类型定义不在 TypeScript 中，而是在 <code class="gatsby-code-text">@types/react</code> 中。</p>
<p>React 的类型定义的名称其实也很直观，比如我们常见的 <code class="gatsby-code-text">React.Component</code>，在定义 Class 组件时，我们需要对 Props 和 State 预先进行类型定义，为什么呢？答案就在它的类型定义中。</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/28cf66b5b8ab65a6857ca9971cdf20b2/b4fb4/types-react-Component.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 111.03074141048825%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsSAAALEgHS3X78AAACf0lEQVQ4y5VU25abMBDjK3YTLoZAgIRwy42wbTbtW///i6aSMcTQ9LT7oGMTE6HRaOzkbS/l9S5pfZV1vJdVlMt6Q+z0foX9e5TJm0rlLXyNd644D7NSHLU/yqa8SnQ4AWcJd61sipPE5UVCnuH3cN+Ktz2In5b/hBPh5Rh/CsCuyUBOIh6SZMT/kGnCIK9F7RoQVqK4z4f99BLJvkJoP2yPvcTw1IdqDSgOULpfHMXDx1yA61K9DSfIaqFKqvLwx6C6aPjlWTwQ+miWr0lPeG7E5YdIuMD4m0MikrLcBE2JDRKQbCs0C6QK56FZFe0YfX0BlEy/Bv/S7lOSy12y/qcUj1+Snr9LCGU+fQWhy9KhPKhuUH6TdQvUnYZrKpoRbvBCevshSffQ3nk8mxpkrwO8bL4OXTYehjSbXUa5EUpV8Ep7mz89fu6tZ2PZ+Jsz+NeAkCqHQ35penEkmIjqOXE+f7YIayuHiEdSzIxfdvTvwTbSB8JKl+1zUtAA+seoEHYn7el5kcOBUKvDnjlzm04ChFxhXQMrZJGh5tkaH1IEq3gxQVNTlFFINSsdYIQc0QhAFjAq7YcOvO4oRbC7r0sefBsV6pG73CS8YAy/PSTq7+JjHL0G5E2vs+alh6fHpuw/FI5NoQVRD6LLp0TIomKwqfbQiSqBClYcEKsCIwohy7LN6FVTU3RsskZPh8rGj/Cj7XMldscpYrZKa5atHOLQTfZAYdYFYgPzjl36vGTGxMQmxkW7Qclc42qJzmDY2ze645uSeWPzos3Od9miCWHRagT0b2+ismuGBu7m0FffsuSA40alzQdmGfNcg7A6iouurqmAtwnLMiUuMZb8G8lae+cNGhExAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="types react Component"
        title="types react Component"
        src="/static/28cf66b5b8ab65a6857ca9971cdf20b2/f570d/types-react-Component.png"
        srcset="/static/28cf66b5b8ab65a6857ca9971cdf20b2/0783d/types-react-Component.png 240w,
/static/28cf66b5b8ab65a6857ca9971cdf20b2/782f4/types-react-Component.png 480w,
/static/28cf66b5b8ab65a6857ca9971cdf20b2/f570d/types-react-Component.png 960w,
/static/28cf66b5b8ab65a6857ca9971cdf20b2/b4fb4/types-react-Component.png 1106w"
        sizes="(max-width: 960px) 100vw, 960px"
        loading="lazy"
      />
  </a>
    </span></p>
<p>再比如，当我们在写一些组件时，我们可能会需要向下传递 <code class="gatsby-code-text">this.props.children</code>，但 <code class="gatsby-code-text">children</code> 并没有被设为默认值，需要我们自己定义到 props 上，那么它的类型应该是什么呢？</p>
<p>到类型定义中搜一下关键字 children，很快我们就找到了下面的定义：</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/cbfa2bc89b2793c7bca1f7914d65be95/a335a/types-react-children.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 58.6459286367795%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAABu0lEQVQoz21S147bQAzUT9wlsnZVrW7VWLKv4ZAg+f9PmgwprU8I8jAgl8syLF7e39At76imG+JqwLPN8EQ8h2ciP+gbvkVnPB3eRyR1Dy9uZpTzK4rpBelwQ0IZNRPSyxXnbkXc/kCs701W3YDksiCqJwTnhmgfMPkFnik6/bR5h0CcmMjIpwOdBFbk/ladce7PIdCE+0NYlWy9XD5gqZt6hGlnmHLQ4FPZs+CIQCRHYw7MjvhKyOD67ReK998I+wXhsMJOdyafYZngxCJBvyKgPHVbF8E/DI1jaIseltWz+yfSboHPBN9ZwBeGEpg1MESQ1l/6fxk28CzbyThwrcZ2BJZtCiudE2HVtqNwsnvoziflsjShbFDb5lJkqxHZip5QT9rrbpt2+wi5DEFYjbt9i5PutpZl8JQhWcmnOnJW2XCn06pvF+x8JPHR7v48l0iYymHH4sQCkTiyjTCXkSzIxxceLllpq1u7Dz8irjb2h7OZUb3+QXn7ibhjtXaEz6q+ntCk25Yl+cJM2E8rsnnVP7HpAh1Dl7C882yWT8QXCRpxoqOcizgaMpDkYguJdLgiHRe9V7H5u99fp2hc9XXPgF4AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="types react children"
        title="types react children"
        src="/static/cbfa2bc89b2793c7bca1f7914d65be95/f570d/types-react-children.png"
        srcset="/static/cbfa2bc89b2793c7bca1f7914d65be95/0783d/types-react-children.png 240w,
/static/cbfa2bc89b2793c7bca1f7914d65be95/782f4/types-react-children.png 480w,
/static/cbfa2bc89b2793c7bca1f7914d65be95/f570d/types-react-children.png 960w,
/static/cbfa2bc89b2793c7bca1f7914d65be95/a335a/types-react-children.png 1093w"
        sizes="(max-width: 960px) 100vw, 960px"
        loading="lazy"
      />
  </a>
    </span></p>
<p>所有 React 中 JSX 所代表的内容，无论是 <code class="gatsby-code-text">render()</code> 的返回，还是 <code class="gatsby-code-text">children</code>，我们都可以定义为一个 <code class="gatsby-code-text">ReactNode</code>。那这个 <code class="gatsby-code-text">ReactNode</code> 长什么样呢？我们通过右键继续寻找：</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/d248f83cf376b3dd90a432c0ca06b982/06916/types-react-ReactNode.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 47.56657483930211%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABWElEQVQoz52S626CQBSEeYwuC+xuxRt3REWNbbVNmv7o+7/OdA6IaalNGn9MdgnLtzNz8MJZgXCWXxVMM+g4vUvyrRfOe6BJVrCitIFZ1iNVP56jedl9PJZAO6ARLarLCzq9Kut1TdBfHlyS3ATKxuZrxM0BUd4gINynC53U3eqnNYJJAi36T2S5zVQtpvszotUeQdZApSsoXqLyDfxsDc2I/qL809mvyBEBjlBbbmEIiehOszdFiGZMNey/OR0AY2gX2RHiCJtvntC8faI4fcAUG+gF41KGfU6qHabtCbbYdv3qwdVNYL1D3L4gokvH1TJ6yIm75oh4d4YpW4SswIp7ug3E2aBRt55MzRKU0dXy+R2GsG4o8qsQ5NZHaK4PfBY3vgxN4nOVMz7r6adPsWtPNopQx0jLwyseGUnxsEp4+PJO+lPSK1cBSKeav5nP7mVoAhJFNPIF4KEjTAIa/KUAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="types react ReactNode"
        title="types react ReactNode"
        src="/static/d248f83cf376b3dd90a432c0ca06b982/f570d/types-react-ReactNode.png"
        srcset="/static/d248f83cf376b3dd90a432c0ca06b982/0783d/types-react-ReactNode.png 240w,
/static/d248f83cf376b3dd90a432c0ca06b982/782f4/types-react-ReactNode.png 480w,
/static/d248f83cf376b3dd90a432c0ca06b982/f570d/types-react-ReactNode.png 960w,
/static/d248f83cf376b3dd90a432c0ca06b982/06916/types-react-ReactNode.png 1089w"
        sizes="(max-width: 960px) 100vw, 960px"
        loading="lazy"
      />
  </a>
    </span></p>
<p>看到这里，我们不光找到了我们想要的类型，还顺带明白了为什么 <code class="gatsby-code-text">render()</code> 可以返回 boolean、null、undefined 表示不渲染任何内容。</p>
<p>那么事件呢？当我们给组件定义事件处理函数的时候，也经常会被要求指定类型。还是老办法，找不到咱就搜，比如 <code class="gatsby-code-text">onClick</code> 不清楚，那我们就以它为关键字去搜：</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/b1bed6209b8d22e30dc513177859aede/e11df/types-react-onClick.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 90.3%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAACWklEQVQ4y31U65qaMBD1IbpbJYCCCpJwR0DxsvZr3/+VpmcSwmK7649hQpI5OWdmkkWU95S1F0qqnkJZ0bu/ox9uSG/eVo/Zv43/xmbjp3lji41q6NBcKarOtM1aCmHrpIRVtM87CtIjrWWtDwvSBuOGApDgfRushaqmuOz1HrGTtPDinPxDSV4Ej/EGQCE27hAUIJj/ed7fp+RHGSzXe83+wqwdCv3vYs+CPy42ujuFCYWFlA7tQOp0o23ZksBhKwQ4MPYrsOexCyBmJBA3NwBmxCw1MLOIM5LnK6nhTru6IwGAFaRqg7wVUuTAeziIY8UYZ80wxMIECLZxd6akHwCInFbIX1GTC+kaUBq/zI7k4BAP8xwntEIArkF/j8VPhjll119UPP5QUPS0RLCT1gYsHdklpQGZMZsAGSCQ1RNgOnxQfv9NYdmRI5EzZiUNKI+ZreAijLm3YGMOx6LMchgfT1ryvkHbFIaRkVtPeWTvyWe5QueQWwHlfy7KjdLLnaL+RJucWTWQ/lmYJbwAmMdxtsIcbxnaHrKAh24gebrqKq8z9KgCE5gDqUY+j0vdASKeSTdV/r9tkv6iWe5bNDdXmS0HqJU8es1UNaZIrwAZLLs9NENfIX9JTT/nYAw03iB3K02Dv5LMDNWAm1K15KclbJQsZ/at5OgfhpFl+DFWuQIwPwhoFWlk2pvDzS1sX77OIYpyvoNZS+8MwqaMZA7mh8INEy33iyp/x/ABZp2WKqb8GblaKj8Q0ewuPzGc5dADww1khjXeOi211gWYHodRrqv7MJ+a2tpfZvgNvZrBr50AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="types react onClick"
        title="types react onClick"
        src="/static/b1bed6209b8d22e30dc513177859aede/f570d/types-react-onClick.png"
        srcset="/static/b1bed6209b8d22e30dc513177859aede/0783d/types-react-onClick.png 240w,
/static/b1bed6209b8d22e30dc513177859aede/782f4/types-react-onClick.png 480w,
/static/b1bed6209b8d22e30dc513177859aede/f570d/types-react-onClick.png 960w,
/static/b1bed6209b8d22e30dc513177859aede/e11df/types-react-onClick.png 1000w"
        sizes="(max-width: 960px) 100vw, 960px"
        loading="lazy"
      />
  </a>
    </span></p>
<p>据此我们找到一个叫 <code class="gatsby-code-text">MouseEventHandler</code> 的定义，这名字，够直白吧。</p>
<p>好了，我们找到想要的了。不过既然来了，不如继续看一下，看看还能发现什么。我们右键 MouseEventHandler 继续往下看：</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/bda8aee3b0de956d1c9a557f7f6eb4a3/644a5/types-react-EventHandler.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 88.18897637795276%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAACIElEQVQ4y41U2XKjMBDkL2KQBD65HBsw8ZV1Upuq/P8vTbpHQLBNbe1D18jCtLp7RgRZc5X8cBWX7iRcFmLXW61mVaLm8pJs5GWeov4fgqSohZiXB0nKxteiUcR5LS7bA5UiHtXHdY9gQRIQLspWkpzrjjSvlXTekQ/gfj5e3yNw6V7s5lXmr60s67NYkBucZPBSxBig0AAWa5tXYiEgLipJsp1E3M+ptBGXH/CfPQhpCYQLkK1PHxJXJ3G7N7zYSgRyxfYghgex4lmCSkI9SK0jGghwSph6wpg2lQgPAJN2ClihQoHf/Z5B89hAM6DUGvAhO7ysL7I+foirjuKgNt4fPQnJUUNUqg2hLsThFnkxKgPYEQaFq/aPZLdviTFChIN1ktFuBIIZMg6BaOujMJyAXumYUBVqhlB4+lQiB3VUFRUjdQCrwR7/31u13fqJcA6i1fGmdj1h3RHWarEn5BSMSZ4UqmVm2L7L5v1LXGfZlD4rKpoxt623zQjY2an8OkKvcAmSFIRxc/EZIquw8BapLByRGk7CRH4PGZ5l9XZTu5xDn2F9n6EeUA8Z/sMyFOIjsbn8HRRazcwPdK/Oo8UQV34Gpy37sWGG6fVrNDK+EawkIfTGkCzbT6p7GpsVB7u3nE1YZpfze8t2ND6/TQEWsLo+f/pbQpUg1Xs8viEduKednrAd6HcNhLxqi84ucxyGu/SNmG1/Z5Gkj/PY4wee/QturaWThgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="types react EventHandler"
        title="types react EventHandler"
        src="/static/bda8aee3b0de956d1c9a557f7f6eb4a3/f570d/types-react-EventHandler.png"
        srcset="/static/bda8aee3b0de956d1c9a557f7f6eb4a3/0783d/types-react-EventHandler.png 240w,
/static/bda8aee3b0de956d1c9a557f7f6eb4a3/782f4/types-react-EventHandler.png 480w,
/static/bda8aee3b0de956d1c9a557f7f6eb4a3/f570d/types-react-EventHandler.png 960w,
/static/bda8aee3b0de956d1c9a557f7f6eb4a3/644a5/types-react-EventHandler.png 1016w"
        sizes="(max-width: 960px) 100vw, 960px"
        loading="lazy"
      />
  </a>
    </span></p>
<p>看到了吗，所有的事件处理函数都有对应的定义，每个都需要一个泛型参数，传递了事件的类型，名称也挺直白的。</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 844px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/734f616478ea608009b5f36080ab57d8/13a77/types-react-Event.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 107.34597156398105%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsSAAALEgHS3X78AAADHElEQVQ4y3VU6ZKaQBD2HZJUrc6MHMMMl4KCeOu6RyXv/0SdrxtIyW7lR1cLwjff0c3MFi1FxZZiVJhV9EOFlKw62hwf1JwftNpdKMpr1Ba1IbtqyfgV6SSnnzqmX8ZOarbMarLVnpL6QNFqR3wdVwfymwOlzZny5kLp5kRB2cpzUdGQSgqpeZyh8qH3NTNpRQFOD/FgBgAPYMfguLY4wAEk3Z7IbY7yjPFr0m7VF//+UjOVlCSFB+z+Rvb4Su7wSp77+Y3K/V0OygAaQPICzzKYGmt8f6iZHm6y1AwvpygP3xxAytMbFe2FSlQC7xaQp21OyhbwEMDoamQ7lDBkqix9CRamQcG/CKDJ5Z3iw50seoRu4K1p0Lc3muOZl+0RRDa0TGshJYAjMt/0kOzxoutu5JjZ9ZOKywcV6A7/aXitV3vSZUcLTMVCEu+9+wc4/uCbYXsGs6v0GOVvn+SvH9JjBsQ4mc2VTH2meb2XCkCE1U0ZDqc4yGQPHYN1V7B7pwwBFfAyAWMNVhoSdbkD20ZYqryXPGYxSF6LFxYg7F0IHy2D338jcYSEtJPTAx7uyEAys9Tr3sPFekcBH/IMaIZQQsiN4F8IMJaYvv4Rye7woLh7kzAWmMuX5kiGmTEZTnoYmWkoPDYAk9EZxwZgBeaxgGyHjdEZJIINy9R43vhqMjLfGAbwjovHJ0JPsM8J+4eDouYmI8PBvMAShYTDrJ6we/KwHxsZag4F0rlKpJsjGBkbXGt8SBhQYa95ZDSYjiwnksdZCnBy2A6hgFVyficHhg6AHJiMDXw0wvJ7IE8e9oAJvPO8xwDjXc549eBjDul+zykfZbjnVSc+Br76v2T2UDYETCz7B4k5wBiUZ9FyKLwl+OKwXAXgZTqVO5E8hrJEukt8qiQU+Gcxgyw/au99KOv9EEovVz0BThnKplyFjUfnKjkQVMleyqa0wlAV/ZbotJqMzBND/IHiQKJu2GV0DzAPMB7umAGxw2Z7JVX1LE3Ry1ZfAVXSj40MNirFyw6zWCKMHKtXcCi4p5gR760MeE0LFLMcv+IM+he7RnWm3pWg2QAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="types react Event"
        title="types react Event"
        src="/static/734f616478ea608009b5f36080ab57d8/13a77/types-react-Event.png"
        srcset="/static/734f616478ea608009b5f36080ab57d8/0783d/types-react-Event.png 240w,
/static/734f616478ea608009b5f36080ab57d8/782f4/types-react-Event.png 480w,
/static/734f616478ea608009b5f36080ab57d8/13a77/types-react-Event.png 844w"
        sizes="(max-width: 844px) 100vw, 844px"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Ok，事件的类型也被我们挖出来了，以后如果需要单独定义一个事件相关的类型，就可以直接用了。</p>
<p>以此类推，不管是什么东西的类型，都可以去它们对应的 <code class="gatsby-code-text">@types/xxx</code> 里，按关键字搜，只要你的英语别太差，很容易就能找到。</p>
<h2>多重 extends</h2>
<p>我们知道 Interface 是可以多继承的，extends 后面可以跟多个其它 Interface，我们不能保证被继承的多个 Interface 一定没有重复的属性，那么当属性重复，但类型定义不同时，最终的结果会怎么样呢？</p>
<p>在 TypeScript 中，Interface 会按照从右往左的顺序去合并多个被继承的 Interface，也就是说，同名属性，左边的会覆盖右边的。</p>
<div class="gatsby-highlight" data-language="typescript"><pre style="counter-reset: linenumber NaN" class="gatsby-code-typescript line-numbers"><code class="gatsby-code-typescript"><span class="token keyword">interface</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  value<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
  value<span class="token punctuation">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">C</span> <span class="token punctuation">{</span>
  value<span class="token punctuation">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">D</span> <span class="token keyword">extends</span> <span class="token class-name">A</span><span class="token punctuation">,</span> <span class="token constant">B</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// value?: string</span>

<span class="token keyword">interface</span> <span class="token class-name">E</span> <span class="token keyword">extends</span> <span class="token class-name">B</span><span class="token punctuation">,</span> <span class="token constant">C</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// value: string</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2><code class="gatsby-code-text">obj[prop]</code> 无法访问怎么办</h2>
<p>有时候我们会定义一些集合型的数据，例如对象、枚举等，但在调用的时候，我们未必会直接通过 <code class="gatsby-code-text">obj.prop</code> 的形式去调用，可能会是以 <code class="gatsby-code-text">obj[prop]</code> 这种动态索引的形式去访问，但通过动态索引的方式就无法确定最终访问的元素是否存在，因此在 TypeScript 中，默认是不允许这种操作的。</p>
<p>但这又是个非常合理，而且非常常见的场景，怎么办呢？TypeScript 允许为类型添加索引，以实现这一点。</p>
<div class="gatsby-highlight" data-language="typescript"><pre style="counter-reset: linenumber NaN" class="gatsby-code-typescript line-numbers"><code class="gatsby-code-typescript"><span class="token keyword">interface</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  x<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  y<span class="token punctuation">:</span> <span class="token builtin">number</span>
  <span class="token punctuation">[</span>index<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>这个方法虽然有效，但每次都要手动为类型加索引，重复多了也挺心累的。包括在一些「配置对象」中，我们甚至无法确定有哪些类型，有没有一种更加通用、更加一劳永逸的方法。</p>
<p>当然有。</p>
<p>其实在 TypeScript 的官方文档中就有提到这个方案，官方管它叫 OptionBag，大概就是指 config、option 等用于提供配置信息的这么一类参数。我不是很确定这到底是个常规的英文单词，还是 TypeScript 中特定的术语（个人感觉是前者），反正就这么个意思吧。</p>
<p>简单说来，我们可以定义下面这样一个类型：</p>
<div class="gatsby-highlight" data-language="typescript"><pre style="counter-reset: linenumber NaN" class="gatsby-code-typescript line-numbers"><code class="gatsby-code-typescript"><span class="token keyword">interface</span> <span class="token class-name">OptionBag</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>index<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>这是一个非常通用的结构，以字符串为键，值可以是任何类型，并且支持索引 —— 这不就是 Object 么。</p>
<p>之后所有需要动态索引的结构，或是作为配置对象的结构，都可以直接指定为，或是继承 <code class="gatsby-code-text">OptionBag</code>。这个方案以牺牲一定的类型检查为代价，换取了操作上的便利。</p>
<p>理论上讲，<code class="gatsby-code-text">OptionBag</code> 可以适用于所有类似对象这样的结构，但不建议各位真就这么做。这个方案只能是用在一些对类型要求不那么严格，或是无法预知类型的场景中，能够确定的类型还是尽可能地写一下，否则就失去了使用 TypeScript 意义了。</p>
<h2>小结</h2>
<p>TypeScript 确实是个好东西，但世上没有绝对完美的东西，实践过程中总会有那么些阻碍完我们前进的坑。但是掉坑里并不可怕，只要有办法能爬出来，那就都不叫事儿。</p>
<p>原创不易，坚持原创更是，希望这篇文章多少能给大家带来一些收获吧。</p></div></article></div></main></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/2019/07/28/typescript-the-second-day";window.webpackCompilationHash="e56705357a6d6b2f84a9";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-9e24cf40299e2bcbffe7.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-2af6dcf3967067f3edb9.js"],"component---src-templates-project-detail-tsx":["/component---src-templates-project-detail-tsx-505ea0c7ce22f935b9e0.js"],"component---src-templates-blog-post-tsx":["/component---src-templates-blog-post-tsx-c178b7bdd57210ef26ce.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-a807972a1be73275b260.js"],"component---src-pages-about-tsx":["/component---src-pages-about-tsx-be546566d6beb0d9adc8.js"],"component---src-pages-blog-tsx":["/component---src-pages-blog-tsx-8ca27319dd15d5b0760a.js"],"component---src-pages-friend-tsx":["/component---src-pages-friend-tsx-fb6d9daad49d87ec2eba.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-175f2b106f7dd81ca927.js"],"component---src-pages-lab-tsx":["/component---src-pages-lab-tsx-96a608171968ce80ac06.js"],"component---src-pages-lab-browser-ua-js":["/component---src-pages-lab-browser-ua-js-b60dff02bcc396864f4c.js"],"component---src-pages-lab-browser-viewport-js":["/component---src-pages-lab-browser-viewport-js-ce11845e3c51c8eba358.js"],"component---src-pages-lab-html-5-canvas-js":["/component---src-pages-lab-html-5-canvas-js-919c7fa4189f7879ed85.js"],"component---src-pages-lab-html-5-connection-js":["/component---src-pages-lab-html-5-connection-js-c2b69b7b44b3064d3393.js"],"component---src-pages-lab-html-5-geolocation-js":["/component---src-pages-lab-html-5-geolocation-js-b2537a6abd11681a301a.js"],"component---src-pages-lab-html-5-input-js":["/component---src-pages-lab-html-5-input-js-a787f6f443d6752b8882.js"],"component---src-pages-lab-html-5-online-js":["/component---src-pages-lab-html-5-online-js-2a14e80449a7db2c7019.js"],"component---src-pages-project-tsx":["/component---src-pages-project-tsx-e1ac56a39a1b27e6f768.js"],"component---src-pages-recruit-tsx":["/component---src-pages-recruit-tsx-5d2f530de4ef7d11cab4.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-tsx-c178b7bdd57210ef26ce.js" async=""></script><script src="/1-8068e6f96b6d2ebd96f5.js" async=""></script><script src="/styles-c4c0a43cf7c115501b1b.js" async=""></script><script src="/app-9e24cf40299e2bcbffe7.js" async=""></script><script src="/webpack-runtime-a33a97b33cb343b05d4f.js" async=""></script></body></html>
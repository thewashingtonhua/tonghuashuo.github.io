{"data":{"site":{"siteMetadata":{"title":"童话说","keywords":["tonghuashuo","github","front-end","javascript","typescript","react","node","washington","hua","童话","童话说","前端","博客","技术","计算机","互联网"]}},"markdownRemark":{"html":"<p>在过去几年的工作中，我有幸把市面上主流的几种样式解决方案都尝试了一遍。但拥有太多的选择也会让人头疼，最终，你得选择一样，作为你的日常之选。</p>\n<p>我，选择了 SCSS。</p>\n<h1>SCSS 有什么好？</h1>\n<p>单凭规则嵌套的语法，我就已经离不开 CSS 预处理器这种东西了。</p>\n<p>支持变量、Mixin、函数也是我选择 CSS 预处理器的一个重要原因，毕竟 CSS 一直被嫌弃不能算作一门编程语言，代码复用也一直是个大问题。尽管 CSS Custome Properties 在移动端已经得到了广泛的支持，但我还是会选择在构建流程中加入一款预处理器来实现 CSS 的代码复用。</p>\n<h1>来看看它的竞争对手</h1>\n<p>除了 SCSS，市面上可选的样式解决方案有很多，比较主流的有下面这几个：</p>\n<ul>\n<li>LESS</li>\n<li>Sass</li>\n<li>Stylus</li>\n<li>PostCSS</li>\n<li>原生 CSS</li>\n<li>CSS Modules</li>\n<li>styled-components</li>\n</ul>\n<h2>LESS</h2>\n<p>LESS 应该是和 SCSS 最接近的 CSS 预处理器了，两者在常用功能上并没有太大的差异，尽管 Sass 被公认拥有更强大的功能，但是用一些不常用的特性去权衡一款工具似乎并不太理智。</p>\n<p>LESS 是我在接触 SCSS 之前使用的最多的预处理器，更多的是语法上的偏好\n国内最大的支撑或许是 Ant-Design</p>\n<h2>Sass</h2>\n<p>是的，你没看错，Sass。虽然师出同门，名字也只有一字之差，但终究是两个派系。</p>\n<p>Sass 和 SCSS 唯一的区别就是前者不加花括号和分号，通过缩进来控制段落。如果你喜欢 Python，你一定会爱上 Stylus。</p>\n<p>不加分号我还勉强能接受，毕竟我写 JS 的风格也是不加分号的；但不加花括号我不是很能接受。历史教育我们，一切的百家争鸣，终将皈依于标准，因此尽可能保留符合标准的语法才是长久之计。</p>\n<p>事实上 SCSS 已经成为 Sass 这门语言</p>\n<h2>Stylus</h2>\n<p>预处理圈有这么一股清流，叫做 Stylus。这是一把传说中的兵器，听过它的人很多，用它的人很少。</p>\n<p>当然这些都是可选的，你完全可以保留花括号和分号，可如果这样，我又为什么要选择 Stylus 呢？</p>\n<p>其实 Stylus 的卖点也并非独家，SASS 也不用花括号和分号，论功能后者还更强大。</p>\n<p>没有戳到开发者的痛点，相比竞争对手又缺少差异性，这就解释了为什么 Stylus 市场占比一直那么低。</p>\n<h2>PostCSS</h2>\n<p>与前面几个选项不同的是，PostCSS 是一款后处理器，因为在整个构建流程中，它位于 CSS 之后。你何以结合任何一款预处理器来生成 CSS，然后通过 PostCSS 来进行一些后续处理，例如：<code class=\"gatsby-code-text\">-webkit-</code> 等前缀的自动补全、Flex 旧语法兼容、CSS 代码的压缩等等。</p>\n<p>PostCSS 提供了 JS API，你可以认为这是一个可以通过 JS 来编程的 CSS 插件系统。</p>\n<p>时至今日，浏览器兼容性问题已经不再是开发人员要考虑的重要问题</p>\n<h2>原生 CSS</h2>\n<p>工具是很好用，但也别忘了我们的小祖宗，原生 CSS 发展到今天也是很能打的。</p>\n<p>新特性很好用</p>\n<p>兼容性不足，目前仅移动端可用。</p>\n<p>不支持嵌套语法</p>\n<h2>CSS Modules</h2>\n<p>React 的流行带火了 CSS-in-JS 的方案。CSS Modules 是其中最出名的一个。</p>\n<p>同类的还有 <a href='https://cssinjs.org' target='_blank'>JSS</a>、<a href='https://typestyle.github.io' target='_blank'>TypeStyle</a> 等</p>\n<p>很好的解决了冲突的问题，但并不能很好的处理样式覆盖的需求。</p>\n<p>尤其当你用它开发了一套基础组件，而使用者想要对其进行样式覆盖的时候。</p>\n<p>其实我觉得冲突这种时候，通过命名规范来实现更好些，比如 BEM。</p>\n<h2>styled-components</h2>\n<p>同类的还有 <a href='https://emotion.sh' target='_blank'>Emotion</a>、<a href='https://www.styletron.org/' target='_blank'>Styletron</a> 等</p>\n<p>样式和逻辑混杂，导致代码行数增加，代码臃肿</p>\n<p>缺少可识别的标识符，难以调试，埋没在乱码中</p>\n<p>CSS Modules 至少还能通过前缀看出这是哪个 class</p>\n<p>如果不是 React Native，我想这项目应该火不了，即便如此，社区还是想方设法把 less、scss 这些给弄了进来。</p>\n<h1>说一嘴 CSS-in-JS</h1>\n<p>不少文章鼓吹 CSS-in-JS 对于 All-in-JS 的观点，我不是很赞同。JSX 我可以理解，但 CSS-in-JS 或许并不那么美好，至少在 Web 端是这样，</p>\n<p>CSS-in-JS 的存在主要还是为了 React Native 和 Flutter 等因为技术原因不方便直接使用 CSS 的方案。</p>\n<h1>State of CSS</h1>\n<p>这里有一份调查数据供大家参考：<a href='https://github.com/StateOfJS/StateOfJS/blob/master/surveys/stateofcss/2019/src/data/results/tools/pre-post-processors.yml' target='_blank'>State of CSS 2019</a>。</p>\n<p>这是著名调查系列 <a href='https://stateofjs.com/' target='_blank'>State of JavaScript</a> 的衍生产品。尽管官方还没把这个结果公示出来，但调查已经结束，结果不会再变了，只是差一个展示页罢了）</p>\n<h1>你知道吗？</h1>\n<p>SASS 背后的开发语言已经从 <a href='https://sass-lang.com/ruby-sass' target='_blank'>Ruby</a> 迁移到了 <a href='https://github.com/sass/dart-sass#why-dart' target='_blank'>Dart</a>。</p>\n<p>当然，对于我们使用者来说，或许影响不大，我们依然只需要从 npm 安装 <code class=\"gatsby-code-text\">sass</code> 和 <code class=\"gatsby-code-text\">node-sass</code> 这两个依赖即可。</p>\n<h1>小结</h1>\n<p>这篇文章包含了大量的主观成分，但挑起派系之争从来不是我写作的目的，「前端娱乐圈」从来不乏这一类的文字。我所做的只不过是把我个人的选择过程分享给大家，给正在纠结要如何选择的朋友们一点点参考。</p>\n<p>存在即合理，任何有不止一个人喜欢的东西都一定是做对了什么。从实用的角度，本文提到的所有方案都可以满足业务开发的需要。本文讨论的不是能不能的问题，而是怎样更好的问题。</p>\n<p>你不需要同意我的每一个观点，也不用为你之所选正名，萝卜和青菜是分不出胜负的。</p>\n<p>当然，不同的声音永远是欢迎的，我也很好奇你的最爱是什么？你又是因为什么而选择了它？</p>","frontmatter":{"title":"我为什么选择 SCSS","description":"这就是，爱~~~","cover":{"publicURL":"/static/why-scss-aebc1be38700efdaeffae7d70937ab37.jpg"},"tags":["css","scss","sass"],"series":"","draft":true},"fields":{"id":"why-scss","date":"2019-05-03T16:00:00.000Z"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/blog/2019/05/04/why-scss"}}